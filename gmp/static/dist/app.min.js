!function(){"use strict";angular.module("app.engine.service",[])}(),function(){"use strict";angular.module("app.authentication",[])}(),function(){"use strict";angular.module("app.cookies",["ngCookies"])}(),function(){"use strict";angular.module("app.department",["ngResource"])}(),function(){"use strict";angular.module("app.login",["ngMessages","ui.router"])}(),function(){"use strict";angular.module("app.main",["ui.router"])}(),function(){"use strict";angular.module("app",["app.config","app.authentication","app.department","app.serverdata","app.engine.service","app.main","app.datepicker","app.login","app.register","app.cookies","app.userdata.service","app.userdata.controller","app.toolbar","app.upload","app.upload.service","app.passport","app.passport.service","app.report"])}(),function(){"use strict";angular.module("app.register",[])}(),function(){"use strict";angular.module("app.config",["ui.router","ngResource"])}(),function(){"use strict";angular.module("app.toolbar",[])}(),function(){"use strict";angular.module("app.upload",["ngFileUpload"])}(),function(){"use strict";angular.module("app.upload.service",[])}(),function(){"use strict";angular.module("app.passport",["ngMessages","ngAnimate"])}(),function(){"use strict";angular.module("app.passport.service",[])}(),function(){"use strict";angular.module("app.serverdata",["ngResource"])}(),function(){"use strict";angular.module("app.datepicker",["ui.bootstrap"])}(),function(){"use strict";angular.module("app.userdata.controller",[])}(),function(){"use strict";angular.module("app.userdata.service",[])}(),function(){"use strict";angular.module("app.report",["ngMessages","ngAnimate"])}(),function(){"use strict";function e(e){function t(){return e.get("/api/engine/").then(function(e){return e.data})}var n={getAllEngines:t};return n}angular.module("app.engine.service").factory("Engine",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,r){function o(){return t.isSet()}function a(t,n){return e.post("/api/login/",{email:t,password:n}).then(s,c)}function i(){return e.post("/api/logout/",{}).then(u)}function l(t,n,r){return e.post("/api/department/"+r+"/user/",{email:t,password:n})}function s(e){t.set(e.data),n.$emit("cokkiesSet",""),r.go("home")}function u(){t.remove(),n.$emit("cokkiesSet",void 0),r.go("login")}function c(){}var p={isAuthenticated:o,login:a,logout:i,register:l};return p}angular.module("app.authentication").factory("Authentication",e),e.$inject=["$http","Cookies","$rootScope","$state"]}(),function(){"use strict";function e(e){"ngInject";function t(){try{return JSON.parse(e.get(a))}catch(t){return}}function n(){return!!e.get(a)}function r(t){e.put(a,JSON.stringify(t))}function o(){e.remove(a)}var a="authentcatedAccount",i={get:t,isSet:n,set:r,remove:o};return i}e.$inject=["$cookies"],angular.module("app.cookies").factory("Cookies",e)}(),function(){"use strict";function e(e){return e("/api/department/:depId/",{},{measurers:{method:"get",isArray:!0,params:{depId:1},url:"/api/department/:depId/measurer/"}})}angular.module("app.department").factory("Department",e),e.$inject=["$resource"]}(),function(){"use strict";angular.module("app").run(["$http",function(e){e.defaults.xsrfHeaderName="X-CSRFToken",e.defaults.xsrfCookieName="csrftoken"}])}(),function(){"use strict";function e(e){"ngInject";function t(){e.login(r.email,r.password)}function n(){e.isAuthenticated()&&$state.go("home")}var r=this;r.login=t,n()}e.$inject=["Authentication"],angular.module("app.login").controller("LoginController",e)}(),function(){"use strict";function e(e,t,n,r){function o(){e.isAuthenticated()||t.path("/login"),r.$on("cokkiesSet",function(e,t){void 0===t?i.menu=[]:a()}),a()}function a(){i.menu=[{name:"Профиль",link:"Профиль",ref:"profile"}];var e=n.get();if(void 0!==e){var t=e.department.report_types;angular.forEach(t,function(e){i.menu.push({name:e.name,link:e.name,ref:e.url})})}}var i=this;i.menu=[],o(),i.isAuthenticated=function(){return e.isAuthenticated()}}angular.module("app.main").controller("MainController",e),e.$inject=["Authentication","$location","Cookies","$rootScope"]}(),function(){"use strict";function e(e,t){function n(){a.loadDepartments()}function r(){e.login(a.email,a.password)}function o(){console.log("Registration failed")}var a=this;a.loadDepartments=function(){t.query(function(e){a.allDeps=e})},a.register=function(){e.register(a.email,a.password,a.department.id).then(r,o)},n()}angular.module("app.register").controller("RegisterController",e),e.$inject=["Authentication","Department"]}(),function(){"use strict";function e(e,t,n,r){e.state("home",{url:"/"}).state("login",{url:"/login",controller:"LoginController",controllerAs:"vm",templateUrl:"/static/src/app/user/login.tpl.html"}).state("register",{url:"/register",controller:"RegisterController",controllerAs:"vm",templateUrl:"/static/src/app/user/register.tpl.html"}).state("profile",{url:"/profile",controller:"UserDataController",controllerAs:"vm",templateUrl:"/static/src/app/user/profile.tpl.html"}).state("upload",{url:"/upload",controller:"UploadController",controllerAs:"vm",templateUrl:"/static/src/app/filestorage/upload.tpl.html"}).state("passport",{url:"/passport",controller:"PassportController",controllerAs:"vm",templateUrl:"/static/src/app/report/passport.tpl.html"}).state("report",{url:"/report",controller:"ReportController",controllerAs:"vm",templateUrl:"/static/src/app/report/report/report.tpl.html"}).state("report-container",{url:"/report-container",controller:"ReportContainerController",controllerAs:"vm",templateUrl:"/static/src/app/report/report_container/report.tpl.html"}),t.otherwise("/login"),n.defaults.stripTrailingSlashes=!1,r.html5Mode(!0),r.hashPrefix("!")}function t(){var e=angular.element(document);e.on("click",function(){var t=e.find(".navbar-collapse"),n=t.hasClass("in");n&&t.collapse("hide")})}angular.module("app.config").config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider","$resourceProvider","$locationProvider"]}(),function(){"use strict";function e(e){var t=this;t.logout=function(){e.logout()}}angular.module("app.toolbar").controller("ToolbarController",e),e.$inject=["Authentication"]}(),function(){"use strict";function e(e,t,n){function r(){i()}function o(e){a(e.files),i()}function a(e){angular.forEach(e,function(e){t.upload({url:"/api/upload/",data:{fileupload:e}}).then(function(){i()},function(e){console.log("Error status: "+e.status)})})}function i(){n.query().then(function(e){u.uploadedFiles=e})}function l(){angular.forEach(u.selected,function(e){n.remove(e.id),s(e.id)}),u.selected=[]}function s(e){angular.forEach(u.uploadedFiles,function(t,n){u.uploadedFiles[n].id===e&&u.uploadedFiles.splice(n,1)})}var u=this;e.fileSelected=o,u.files=[],u.upload=a,u.uploadedFiles=[],u.remove=l,u.selected=[],u.sortOrder="-uploaded_at",r()}angular.module("app.upload").controller("UploadController",e),e.$inject=["$scope","Upload","UploadService"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/file/").then(function(e){return e.data})}function n(t){return e["delete"]("/api/file/"+t+"/").then(function(e){return e.data})}var r={query:t,remove:n};return r}angular.module("app.upload.service").factory("UploadService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n){e(function(){n.focus()})}}}angular.module("app.passport").directive("autofocus",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return{require:"^form",restrict:"A",link:function(e,t,n,r){return"vm.docsForm"===r.$name?void(e.showCheckmark=!0):void e.$watch(r.$name+".$valid",function(t){t?e.showCheckmark=!0:e.showCheckmark=!1})},scope:!0,transclude:!0,template:'<span ng-if="showCheckmark"><i class="icon ion-checkmark" style="color: #00e676"></i>&nbsp;</span><span ng-transclude></span>'}}angular.module("app.passport").directive("checkmark",e)}(),function(){"use strict";function e(e,t,n,r,o,a,i){function l(e){var t=e.name;angular.forEach(e.files,function(e){i.upload({url:"/api/upload/",data:{fileupload:e}}).then(function(e){v.report.files[t]=e.data.id},function(e){console.log("Error status: "+e.status)})})}function s(){v.report.team=[{name:"",required:!0}],v.report.docs=$,p(),f(),d(),g()}function u(){v.report.team.push({name:"",required:!1})}function c(){v.report.type="passport",console.log("team:",JSON.stringify(v.report)),delete v.report.team[0].required,v.report.therm.tclass=v.tclasses.all.filter(function(e){return e.name===v.tclasses.selected})[0].id,a.createPassport(v.report)}function p(){n.getAllUsers().then(function(e){v.allEmployees=e})}function f(){o.getAllEngines().then(function(e){v.engine.all=e})}function d(){a.getOrgs().then(function(e){v.orgs=e})}function m(e){var t=v.orgs.filter(function(t){return t.name===e});a.getLPUs(t[0].id).then(function(e){v.lpus=e})}function g(){a.getTClasses().then(function(e){v.tclasses.all=e})}function h(e,t){var n=t.id,r=e.indexOf(n);-1!==r?(e.splice(r,1),t.selected=!1):(t.selected=!0,e.push(n))}e.upload=l;var v=this,$=[{name:"Журнал ремонта электродвигателя",value:!0},{name:"Журнал эксплуатации электродвигателя",value:!0},{name:"Инструкция по эксплуатации завода-изготовителя",value:!0},{name:"Протоколы штатных измерений и испытаний",value:!0},{name:"Паспорт завода-изготовителя на взрывозащищенный электродвигатель",value:!0},{name:"Схема электроснабжения электродвигателя",value:!0}],y=["team.tpl.html","measurers.tpl.html","lpu.tpl.html","dates.tpl.html","engines.tpl.html","values.tpl.html","docs.tpl.html","photos.tpl.html","therm.tpl.html","vibro.tpl.html","resistance.tpl.html","signers.tpl.html"],k=["руководитель бригады","зам. руководителя бригады","член бригады"],_={all:r.measurers(),selected:[],sortOrder:"name"},U={all:[],selected:{type:"",serial_number:0},sortOrder:"name"};v.addEmployee=u,v.allEmployees=[],v.createPassport=c,v.engine=U,v.workBegin=void 0,v.workEnd=void 0,v.investigationDate=void 0,v.lpus={},v.orgs={},v.pages=y,v.tclasses={all:[],selected:""},v.getLPUs=m,v.measurers=_,v.ranks=k,v.report={team:void 0,measurers:_.selected,files:{},therm:{},vibro:{},order:{},resistance:{}},v.setSelected=h,s()}angular.module("app.passport").controller("PassportController",e),e.$inject=["$scope","$state","UserData","Department","Engine","Passport","Upload"]}(),function(){"use strict";function e(e){function t(t){e.post("/report/",{report_data:t},{responseType:"arraybuffer",headers:{"Content-Type":"application/json"}}).success(function(e,t,n){var r=new Blob([e],{type:"application/pdf"});return saveAs(r,"report.pdf"),n})}function n(t){return e.get("/api/organization/"+t+"/lpu/").then(function(e){return e.data})}function r(){return e.get("/api/organization/").then(function(e){return e.data})}function o(){return e.get("/api/tclass/").then(function(e){return e.data})}var a={createPassport:t,getLPUs:n,getOrgs:r,getTClasses:o};return a}angular.module("app.passport.service").factory("Passport",e),e.$inject=["$http"]}(),function(){"use strict";function e(){return{require:"ngModel",scope:!0,link:function(e,t,n,r){t.bind("change",function(){e.$apply(function(){r.$setViewValue(t.val()),r.$render()})})}}}angular.module("app.passport").directive("validFile",e)}(),function(){"use strict";function e(e){return e("/api/:category/")}angular.module("app.serverdata").factory("ServerData",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t=this;e.closeText="Закрыть",e.currentText="Сегодня",e.clearText="Очистить",t.dateOptions={startingDay:1},t.yearOptions={datepickerMode:"year",maxMode:"year",minMode:"year",formatYear:"yyyy"},t.open=function(){t.popup.opened=!0},t.popup={opened:!1}}angular.module("app.datepicker").controller("DatepickerController",e),e.$inject=["uibDatepickerPopupConfig"]}(),function(){"use strict";function e(e){function t(){e.get()}function n(){e.update()}var r=this;r.updateProfile=n,r.userdata=e,t()}angular.module("app.userdata.controller").controller("UserDataController",e),e.$inject=["UserData"]}(),function(){"use strict";function e(e,t,n,r){function o(){angular.forEach(d.data,function(e,t){f[t]=""})}function a(){var t=e.get();angular.forEach(t,function(e,n){n in f&&(f[n]=t[n])})}function i(){var n=e.get();return t.get("/api/department/"+n.department.id+"/user/").then(l)}function l(e){return e.data}function s(){var t=e.get();return d.isLoading=!0,d.updateSuccessfull=!1,angular.forEach(f,function(e,n){t[n]=f[n]}),e.set(t),u(t)}function u(e){return t.put("/api/department/"+e.department.id+"/user/"+e.username+"/",{first_name:f.first_name,last_name:f.last_name,middle_name:f.middle_name,email:f.email}).then(c)["catch"](p)}function c(e){return d.isLoading=!1,d.updateSuccessfull=!0,r(function(){d.updateSuccessfull=!1},3e3),e.data}function p(e){return n.reject(e)}var f={email:"",first_name:"",last_name:"",middle_name:"",department:""},d={clean:o,data:f,get:a,getAllUsers:i,isLoading:!1,update:s,updateSuccessfull:!1};return d}angular.module("app.userdata.service").factory("UserData",e),e.$inject=["Cookies","$http","$q","$timeout"]}(),function(){"use strict";function e(){return{restrict:"E",link:function(e){e.isValid=e.userForm.email.$touched},templateUrl:"/static/src/app/user/gmp-input.directive.tpl.html"}}angular.module("app.login").directive("gmpInput",e)}(),function(){"use strict";function e(e,t,n,r,o,a,i){function l(){$.report.info={license:"Договор №          от          на выполнение работ по экспертизе промышленной безопасности."},$.report.team={},$.report.docs=[],$.report.obj_data={detail_info:[]},c(),p(),f(),m()}function s(e,t){var t=t.trim();""!==t&&-1===e.indexOf(t)&&e.push(t)}function u(){$.report.type="report",console.log("team:",JSON.stringify($.report)),$.report.therm.tclass=$.tclasses.all.filter(function(e){return e.name===$.tclasses.selected})[0].id,a.createPassport($.report)}function c(){n.getAllUsers().then(function(e){$.allEmployees=e})}function p(){o.getAllEngines().then(function(e){$.engine.all=e})}function f(){a.getOrgs().then(function(e){$.orgs=e})}function d(e){var t=$.orgs.filter(function(t){return t.name===e});a.getLPUs(t[0].id).then(function(e){$.lpus=e})}function m(){a.getTClasses().then(function(e){$.tclasses.all=e})}function g(e,t){13===e.which&&(e.preventDefault(),s(t,e.target.value),e.target.value="")}function h(e,t){var n=t.id,r=e.indexOf(n);-1!==r?(e.splice(r,1),t.selected=!1):(t.selected=!0,e.push(n))}function v(e){var t=e.name;angular.forEach(e.files,function(e){i.upload({url:"/api/upload/",data:{fileupload:e}}).then(function(e){$.report.files[t].push(e.data.id),console.log($.report.files)},function(e){console.log("Error status: "+e.status)})})}e.upload=v;var $=this,y=["report/team.tpl.html","report/report_info.tpl.html","measurers.tpl.html","lpu.tpl.html","report/dates.tpl.html","engines.tpl.html","order.tpl.html","report/photos.tpl.html","therm.tpl.html","vibro.tpl.html","resistance.tpl.html"],k=[{name:"ВИК",full_name:"Визуальный и измерительный контроль"},{name:"УК",full_name:"Ультразвуковой контроль"},{name:"ТК",full_name:"Тепловой контроль"},{name:"ВД",full_name:"Вибродиагностический контроль"},{name:"ЭЛ",full_name:"Электрический контроль"}],_={all:r.measurers(),selected:[],sortOrder:"name"},U={all:[],selected:{type:"",serial_number:0},sortOrder:"name"};$.addToCollection=s,$.allEmployees=[],$.control_types=k,$.createPassport=u,$.engine=U,$.workBegin=void 0,$.workEnd=void 0,$.lpus={},$.orgs={},$.pages=y,$.procKeyPress=g,$.tclasses={all:[],selected:""},$.getLPUs=d,$.measurers=_,$.report={team:void 0,measurers:_.selected,files:{main:[],therm1:[],therm2:[],licenses:[]},therm:{},vibro:{},order:{},resistance:{}},$.setSelected=h,l()}angular.module("app.report").controller("ReportController",e),e.$inject=["$scope","$state","UserData","Department","Engine","Passport","Upload"]}(),function(){"use strict";function e(e,t,n,r,o,a){"ngInject";function i(){u(),c(),s()}function l(){m.report.type="report-container",console.log("report:",JSON.stringify(m.report))}function s(){t.getAllUsers().then(function(e){m.allEmployees=e})}function u(){a.query({category:"container"},function(e){m.devices.all=e})}function c(){r.getOrgs().then(function(e){m.orgs=e})}function p(e){var t=m.orgs.filter(function(t){return t.name===e});r.getLPUs(t[0].id).then(function(e){m.lpus=e})}function f(e,t){var n=t.id,r=e.indexOf(n);-1!==r?(e.splice(r,1),t.selected=!1):(t.selected=!0,e.push(n))}function d(e){var t=e.name;angular.forEach(e.files,function(e){o.upload({url:"/api/upload/",data:{fileupload:e}}).then(function(e){m.report.files[t].push(e.data.id),console.log(m.report.files)},function(e){console.log("Error status: "+e.status)})})}e.upload=d;var m=this,g=["report_container/devices.tpl.html","report_container/report_info.tpl.html","report_container/order.tpl.html","report_container/team.tpl.html","report_container/signers.tpl.html","report_container/schemes.tpl.html"],h=({all:n.measurers(),selected:[],sortOrder:"name"},{all:[]}),v=["работоспособное","неработоспособное","предельное"];m.allEmployees=[],m.device_conditions=v,m.createPassport=l,m.devices=h,m.lpus={},m.orgs={},m.pages=g,m.getLPUs=p,m.report={team:[],files:{legend:[],conrtol_VIK:[],conrtol_UK_container:[],conrtol_UK_connections:[],conrtol_magnit:[]},info:{info_investigation:"Экспертиза промышленной безопасности проводится впервые. \nНО, ВО – 1 раз в 2 года (ответственный за осуществление производственного контроля за эксплуатацией сосуда). \nНО, ВО – 1 раз в 4 года (уполномоченная специализированная организация, ответственный за осуществление производственного контроля за эксплуатацией сосуда). \nГИ – 1 раз в 8 лет (уполномоченная специализированная организация, ответственный за осуществление производственного контроля за эксплуатацией сосуда)",info_repair:"В представленной технической документации не отмечено",danger_places:"Места концентраций напряжений – продольные и кольцевые сварные швы, места вварки штуцеров; места наиболее вероятного коррозионного износа – внутренняя поверхность нижнего днища"},schemes:{VIK:"Схема проведения визуально-измерительного контроля сосуда",UK_container:"Схема проведения ультразвуковой толщинометрии и твердометрии сосуда",UK_connections:"Схема проведения ультразвукового контроля сварных соединений сосуда",magnit:"Схема проведения магнитопорошкового контроля сосуда"}},m.setSelected=f,i()}e.$inject=["$scope","UserData","Department","Passport","Upload","ServerData"],angular.module("app.report").controller("ReportContainerController",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS9hcHAuZW5naW5lLnNlcnZpY2UubW9kdWxlLmpzIiwiYXV0aGVudGljYXRpb24vYXBwLmF1dGhlbnRpY2F0aW9uLnNlcnZpY2UubW9kdWxlLmpzIiwiYXV0aGVudGljYXRpb24vYXBwLmNvb2tpZXMuc2VydmljZS5tb2R1bGUuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAuZGVwYXJ0bWVudC5zZXJ2aWNlLm1vZHVsZS5qcyIsImF1dGhlbnRpY2F0aW9uL2FwcC5sb2dpbi5tb2R1bGUuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAubWFpbi5tb2R1bGUuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAubW9kdWxlLmpzIiwiYXV0aGVudGljYXRpb24vYXBwLnJlZ2lzdGVyLm1vZHVsZS5qcyIsImF1dGhlbnRpY2F0aW9uL2FwcC5yb3V0ZXMubW9kdWxlLmpzIiwiYXV0aGVudGljYXRpb24vYXBwLnRvb2xiYXIubW9kdWxlLmpzIiwiZmlsZXN0b3JhZ2UvYXBwLnVwbG9hZC5tb2R1bGUuanMiLCJmaWxlc3RvcmFnZS9hcHAudXBsb2FkLnNlcnZpY2UubW9kdWxlLmpzIiwicmVwb3J0L2FwcC5wYXNzcG9ydC5tb2R1bGUuanMiLCJyZXBvcnQvYXBwLnBhc3Nwb3J0LnNlcnZpY2UubW9kdWxlLmpzIiwic2VydmVyZGF0YS9hcHAuc2VydmVyZGF0YS5zZXJ2aWNlLm1vZHVsZS5qcyIsInVzZXIvYXBwLmRhdGVwaWNrZXIubW9kdWxlLmpzIiwidXNlci9hcHAudXNlcmRhdGEuY29udHJvbGxlci5tb2R1bGUuanMiLCJ1c2VyL2FwcC51c2VyZGF0YS5zZXJ2aWNlLm1vZHVsZS5qcyIsInJlcG9ydC9yZXBvcnQvYXBwLnJlcG9ydC5tb2R1bGUuanMiLCJlbmdpbmUvYXBwLmVuZ2luZS5zZXJ2aWNlLmpzIiwiYXV0aGVudGljYXRpb24vYXBwLmF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAuY29va2llcy5zZXJ2aWNlLmpzIiwiYXBwLm1pbi5qcyIsImF1dGhlbnRpY2F0aW9uL2FwcC5kZXBhcnRtZW50LnNlcnZpY2UuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAubG9naW4uanMiLCJhdXRoZW50aWNhdGlvbi9hcHAubWFpbi5qcyIsImF1dGhlbnRpY2F0aW9uL2FwcC5yZWdpc3Rlci5qcyIsImF1dGhlbnRpY2F0aW9uL2FwcC5yb3V0ZXMuanMiLCJhdXRoZW50aWNhdGlvbi9hcHAudG9vbGJhci5qcyIsImZpbGVzdG9yYWdlL2FwcC51cGxvYWQuanMiLCJmaWxlc3RvcmFnZS9hcHAudXBsb2FkLnNlcnZpY2UuanMiLCJyZXBvcnQvYXBwLnBhc3Nwb3J0LmF1dG9mb2N1cy5kaXJlY3RpdmUuanMiLCJyZXBvcnQvYXBwLnBhc3Nwb3J0LmNoZWNrbWFyay5kaXJlY3RpdmUuanMiLCJyZXBvcnQvYXBwLnBhc3Nwb3J0LmpzIiwicmVwb3J0L2FwcC5wYXNzcG9ydC5zZXJ2aWNlLmpzIiwicmVwb3J0L2FwcC5wYXNzcG9ydC52YWxpZEZpbGUuZGlyZWN0aXZlLmpzIiwic2VydmVyZGF0YS9hcHAuc2VydmVyZGF0YS5zZXJ2aWNlLmpzIiwidXNlci9hcHAuZGF0ZXBpY2tlci5qcyIsInVzZXIvYXBwLnVzZXJkYXRhLmNvbnRyb2xsZXIuanMiLCJ1c2VyL2FwcC51c2VyZGF0YS5zZXJ2aWNlLmpzIiwidXNlci9nbXAtaW5wdXQuZGlyZWN0aXZlLmpzIiwicmVwb3J0L3JlcG9ydC9hcHAucmVwb3J0LmpzIiwicmVwb3J0L3JlcG9ydF9jb250YWluZXIvYXBwLnJlcG9ydC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiRW5naW5lIiwiJGh0dHAiLCJnZXRBbGxFbmdpbmVzIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsImVuZ2luZSIsImZhY3RvcnkiLCIkaW5qZWN0IiwiQXV0aGVudGljYXRpb24iLCJDb29raWVzIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsImlzQXV0aGVudGljYXRlZCIsImlzU2V0IiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwicG9zdCIsImxvZ2luU3VjY2VzcyIsImxvZ2luRmFpbCIsImxvZ291dCIsImxvZ291dFN1Y2Nlc3MiLCJyZWdpc3RlciIsImRlcGFydG1lbnRfaWQiLCJzZXQiLCIkZW1pdCIsImdvIiwicmVtb3ZlIiwidW5kZWZpbmVkIiwiYXV0aGVudGljYXRpb24iLCIkY29va2llcyIsIkpTT04iLCJwYXJzZSIsImNvb2tpZU5hbWUiLCJlIiwicHV0Iiwic3RyaW5naWZ5IiwiY29va2llcyIsIkRlcGFydG1lbnQiLCIkcmVzb3VyY2UiLCJtZWFzdXJlcnMiLCJtZXRob2QiLCJpc0FycmF5IiwicGFyYW1zIiwiZGVwSWQiLCJ1cmwiLCJydW4iLCJkZWZhdWx0cyIsInhzcmZIZWFkZXJOYW1lIiwieHNyZkNvb2tpZU5hbWUiLCJMb2dpbkNvbnRyb2xsZXIiLCJ2bSIsImFjdGl2YXRlIiwidGhpcyIsImNvbnRyb2xsZXIiLCJNYWluQ29udHJvbGxlciIsIiRsb2NhdGlvbiIsInBhdGgiLCIkb24iLCJldmVudCIsIm1lbnUiLCJzZXR1cE1lbnUiLCJuYW1lIiwibGluayIsInJlZiIsInJlcG9ydF90eXBlcyIsImRlcGFydG1lbnQiLCJmb3JFYWNoIiwicmVwb3J0IiwicHVzaCIsIlJlZ2lzdGVyQ29udHJvbGxlciIsImxvYWREZXBhcnRtZW50cyIsInJlZ2lzdGVyU3VjY2VzcyIsInJlZ2lzdGVyRmFpbCIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeSIsImFsbERlcHMiLCJpZCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHJlc291cmNlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsInN0YXRlIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJzdHJpcFRyYWlsaW5nU2xhc2hlcyIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJkb2MiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJvbiIsIm5hdmJhciIsImZpbmQiLCJvcGVuZWQiLCJoYXNDbGFzcyIsImNvbGxhcHNlIiwiVG9vbGJhckNvbnRyb2xsZXIiLCJVcGxvYWRDb250cm9sbGVyIiwiJHNjb3BlIiwiVXBsb2FkIiwiVXBsb2FkU2VydmljZSIsImdldFVwbG9hZGVkRmlsZXMiLCJmaWxlU2VsZWN0ZWQiLCJ1cGxvYWQiLCJmaWxlcyIsImZpbGUiLCJmaWxldXBsb2FkIiwicmVzcCIsInN0YXR1cyIsInVwbG9hZGVkRmlsZXMiLCJzZWxlY3RlZCIsInJlbW92ZUZpbGVFbnRyeSIsInYiLCJrIiwic3BsaWNlIiwic29ydE9yZGVyIiwic2VydmljZSIsIkF1dG9mb2N1c0RpcmVjdGl2ZSIsIiR0aW1lb3V0IiwicmVzdHJpY3QiLCIkZWxlbWVudCIsImZvY3VzIiwiZGlyZWN0aXZlIiwiQ2hlY2ttYXJrRGlyZWN0aXZlIiwicmVxdWlyZSIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwiZm9ybUNvbnRyb2xsZXIiLCIkbmFtZSIsInNob3dDaGVja21hcmsiLCIkd2F0Y2giLCJuZXdWYWx1ZSIsInRyYW5zY2x1ZGUiLCJ0ZW1wbGF0ZSIsIlBhc3Nwb3J0Q29udHJvbGxlciIsIlVzZXJEYXRhIiwiUGFzc3BvcnQiLCJmaWVsZG5hbWUiLCJ0ZWFtIiwicmVxdWlyZWQiLCJkb2NzIiwiZ2V0RW1wbG95ZWVzIiwiZ2V0RW5naW5lcyIsImdldE9yZ3MiLCJnZXRUQ2xhc3NlcyIsImFkZEVtcGxveWVlIiwiY3JlYXRlUGFzc3BvcnQiLCJ0eXBlIiwidGhlcm0iLCJ0Y2xhc3MiLCJ0Y2xhc3NlcyIsImFsbCIsImZpbHRlciIsImVsIiwiZ2V0QWxsVXNlcnMiLCJhbGxFbXBsb3llZXMiLCJvcmdzIiwiZ2V0TFBVcyIsIm9yZ05hbWUiLCJvcmdhbiIsImxwdXMiLCJzZXRTZWxlY3RlZCIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJ2YWx1ZSIsInBhZ2VzIiwicmFua3MiLCJzZXJpYWxfbnVtYmVyIiwid29ya0JlZ2luIiwid29ya0VuZCIsImludmVzdGlnYXRpb25EYXRlIiwidmlicm8iLCJvcmRlciIsInJlc2lzdGFuY2UiLCJyZXBvcnRfZGF0YSIsInJlc3BvbnNlVHlwZSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJzdWNjZXNzIiwiQmxvYiIsInNhdmVBcyIsIm9yZ0lkIiwicGFzc3BvcnQiLCJWYWxpZEZpbGVEaXJlY3RpdmUiLCJuZ01vZGVsIiwiYmluZCIsIiRhcHBseSIsIiRzZXRWaWV3VmFsdWUiLCJ2YWwiLCIkcmVuZGVyIiwiU2VydmVyRGF0YSIsIkRhdGVwaWNrZXJDb250cm9sbGVyIiwidWliRGF0ZXBpY2tlclBvcHVwQ29uZmlnIiwiY2xvc2VUZXh0IiwiY3VycmVudFRleHQiLCJjbGVhclRleHQiLCJkYXRlT3B0aW9ucyIsInN0YXJ0aW5nRGF5IiwieWVhck9wdGlvbnMiLCJkYXRlcGlja2VyTW9kZSIsIm1heE1vZGUiLCJtaW5Nb2RlIiwiZm9ybWF0WWVhciIsIm9wZW4iLCJwb3B1cCIsIlVzZXJEYXRhQ29udHJvbGxlciIsInVwZGF0ZVByb2ZpbGUiLCJ1cGRhdGUiLCJ1c2VyZGF0YSIsIiRxIiwiY2xlYW4iLCJjb29raWUiLCJnZXRBbGxVc2Vyc1N1Y2Nlc3MiLCJpc0xvYWRpbmciLCJ1cGRhdGVTdWNjZXNzZnVsbCIsInVwZGF0ZURCIiwidXNlcm5hbWUiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwibWlkZGxlX25hbWUiLCJ1cGRhdGVTdWNjZXNzIiwidXBkYXRlRmFpbGVkIiwicmVqZWN0IiwiZ21wSW5wdXQiLCJpc1ZhbGlkIiwidXNlckZvcm0iLCIkdG91Y2hlZCIsIlJlcG9ydENvbnRyb2xsZXIiLCJpbmZvIiwibGljZW5zZSIsIm9ial9kYXRhIiwiZGV0YWlsX2luZm8iLCJhZGRUb0NvbGxlY3Rpb24iLCJhcnIiLCJ0cmltIiwicHJvY0tleVByZXNzIiwiY2xpY2tFdmVudCIsIndoaWNoIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJjb250cm9sX3R5cGVzIiwiZnVsbF9uYW1lIiwibWFpbiIsInRoZXJtMSIsInRoZXJtMiIsImxpY2Vuc2VzIiwiUmVwb3J0Q29udGFpbmVyQ29udHJvbGxlciIsImdldENvbnRhaW5lcnMiLCJjYXRlZ29yeSIsImRldmljZXMiLCJkZXZpY2VfY29uZGl0aW9ucyIsImxlZ2VuZCIsImNvbnJ0b2xfVklLIiwiY29ucnRvbF9VS19jb250YWluZXIiLCJjb25ydG9sX1VLX2Nvbm5lY3Rpb25zIiwiY29ucnRvbF9tYWduaXQiLCJpbmZvX2ludmVzdGlnYXRpb24iLCJpbmZvX3JlcGFpciIsImRhbmdlcl9wbGFjZXMiLCJzY2hlbWVzIiwiVklLIiwiVUtfY29udGFpbmVyIiwiVUtfY29ubmVjdGlvbnMiLCJtYWduaXQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSw0QkNKQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEsNEJDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLGVBQUEsaUJDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLGtCQUFBLGtCQ0hBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSxhQUFBLGFBQUEsaUJDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLFlBQUEsaUJDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLE9BQ0EsYUFDQSxxQkFDQSxpQkFDQSxpQkFDQSxxQkFDQSxXQUNBLGlCQUNBLFlBQ0EsZUFDQSxjQUNBLHVCQUNBLDBCQUNBLGNBQ0EsYUFDQSxxQkFDQSxlQUNBLHVCQUNBLGtCQ3JCQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEsc0JDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLGNBQ0EsWUFDQSxrQkNMQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEscUJDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLGNBQUEsb0JDSEEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLDRCQ0hBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSxnQkFBQSxhQUFBLGlCQ0hBLFdBQ0EsWUFFQUQsU0FBQUMsT0FBQSw4QkNIQSxXQUNBLFlBRUFELFNBQUFDLE9BQUEsa0JB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QUUsWUFDQTBFLFlBQ0FLLFVBQUEsU0FHQXFDLFNBT0FvRyxHQUNBLGtCQUNBLG9CQUNBLGFBS0E3TSxHQUFBNkcsZ0JBRUE3RyxFQUFBNk0sa0JBQUFBLEVBQ0E3TSxFQUFBb0csZUFBQUEsRUFDQXBHLEVBQUE0TSxRQUFBQSxFQUdBNU0sRUFBQWtILFFBQ0FsSCxFQUFBOEcsUUFDQTlHLEVBQUF3SCxNQUFBQSxFQUdBeEgsRUFBQStHLFFBQUFBLEVBRUEvRyxFQUFBaUIsUUFDQTJFLFFBQ0FuQyxPQUNBcUosVUFDQUMsZUFDQUMsd0JBQ0FDLDBCQUNBQyxtQkFFQTNCLE1BQ0E0QixtQkFBQSxnZUFPQUMsWUFBQSx3REFDQUMsY0FBQSxvTEFJQUMsU0FDQUMsSUFBQSw0REFDQUMsYUFBQSxzRUFDQUMsZUFBQSxzRUFDQUMsT0FBQSx3REFnQkExTixFQUFBbUgsWUFBQUEsRUFFQWxILElyQjB6Q0l3TSxFQUEwQnJQLFNBQVcsU0FBVSxXQUFZLGFBQWMsV0FBWSxTQUFVLGNxQnI2Q25HWCxRQUNBQyxPQUFBLGNBQ0F5RCxXQUFBLDRCQUFBc00iLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5lbmdpbmUuc2VydmljZScsIFtdKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5hdXRoZW50aWNhdGlvbicsIFtdKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvb2tpZXMnLCBbJ25nQ29va2llcyddKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmRlcGFydG1lbnQnLCBbJ25nUmVzb3VyY2UnXSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAubG9naW4nLCBbJ25nTWVzc2FnZXMnLCAndWkucm91dGVyJ10pO1xufSkoKTtcblxuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAubWFpbicsIFsndWkucm91dGVyJ10pO1xufSkoKTtcblxuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG4gICAgICAgICdhcHAuY29uZmlnJyxcbiAgICAgICAgJ2FwcC5hdXRoZW50aWNhdGlvbicsXG4gICAgICAgICdhcHAuZGVwYXJ0bWVudCcsXG4gICAgICAgICdhcHAuc2VydmVyZGF0YScsXG4gICAgICAgICdhcHAuZW5naW5lLnNlcnZpY2UnLFxuICAgICAgICAnYXBwLm1haW4nLFxuICAgICAgICAnYXBwLmRhdGVwaWNrZXInLFxuICAgICAgICAnYXBwLmxvZ2luJyxcbiAgICAgICAgJ2FwcC5yZWdpc3RlcicsXG4gICAgICAgICdhcHAuY29va2llcycsXG4gICAgICAgICdhcHAudXNlcmRhdGEuc2VydmljZScsXG4gICAgICAgICdhcHAudXNlcmRhdGEuY29udHJvbGxlcicsXG4gICAgICAgICdhcHAudG9vbGJhcicsXG4gICAgICAgICdhcHAudXBsb2FkJyxcbiAgICAgICAgJ2FwcC51cGxvYWQuc2VydmljZScsXG4gICAgICAgICdhcHAucGFzc3BvcnQnLFxuICAgICAgICAnYXBwLnBhc3Nwb3J0LnNlcnZpY2UnLFxuICAgICAgICAnYXBwLnJlcG9ydCcsXG4gICAgXSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXSk7XG59KSgpO1xuXG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnLCBbXG4gICAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgICAnbmdSZXNvdXJjZSdcbiAgICBdKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC50b29sYmFyJywgW10pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnVwbG9hZCcsIFsnbmdGaWxlVXBsb2FkJ10pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAudXBsb2FkLnNlcnZpY2UnLCBbXSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcsIFsnbmdNZXNzYWdlcycsICduZ0FuaW1hdGUnXSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucGFzc3BvcnQuc2VydmljZScsIFtdKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5zZXJ2ZXJkYXRhJywgWyduZ1Jlc291cmNlJ10pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcCddKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC51c2VyZGF0YS5jb250cm9sbGVyJywgW10pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnVzZXJkYXRhLnNlcnZpY2UnLCBbXSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmVwb3J0JywgWyduZ01lc3NhZ2VzJywgJ25nQW5pbWF0ZSddKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZW5naW5lLnNlcnZpY2UnKVxuICAgICAgICAuZmFjdG9yeSgnRW5naW5lJywgRW5naW5lKTtcblxuICAgIEVuZ2luZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gRW5naW5lKCRodHRwKSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSB7XG4gICAgICAgICAgICBnZXRBbGxFbmdpbmVzOiBnZXRBbGxFbmdpbmVzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGVuZ2luZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBnZXRBbGxFbmdpbmVzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9lbmdpbmUvJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5hdXRoZW50aWNhdGlvbicpXG4gICAgICAgIC5mYWN0b3J5KCdBdXRoZW50aWNhdGlvbicsIEF1dGhlbnRpY2F0aW9uKTtcblxuICAgIEF1dGhlbnRpY2F0aW9uLiRpbmplY3QgPSBbJyRodHRwJywgJ0Nvb2tpZXMnLCAnJHJvb3RTY29wZScsICckc3RhdGUnXTtcblxuICAgIGZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uKCRodHRwLCBDb29raWVzLCAkcm9vdFNjb3BlLCAkc3RhdGUpIHtcbiAgICAgICAgdmFyIGF1dGhlbnRpY2F0aW9uID0ge1xuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgICAgICAgICBsb2dpbjogbG9naW4sXG4gICAgICAgICAgICBsb2dvdXQ6IGxvZ291dCxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbjtcblxuICAgICAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29va2llcy5pc1NldCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2dpbi8nLCB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfSkudGhlbihsb2dpblN1Y2Nlc3MsIGxvZ2luRmFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9sb2dvdXQvJywge30pXG4gICAgICAgICAgICAgICAgLnRoZW4obG9nb3V0U3VjY2Vzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWdpc3RlcihlbWFpbCwgcGFzc3dvcmQsIGRlcGFydG1lbnRfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2RlcGFydG1lbnQvJyArIGRlcGFydG1lbnRfaWQgKyAnL3VzZXIvJywge1xuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9naW5TdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBDb29raWVzLnNldChyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2Nva2tpZXNTZXQnLCAnJyk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ291dFN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICBDb29raWVzLnJlbW92ZSgpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnY29ra2llc1NldCcsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dpbkZhaWwoKSB7XG4vLyAgICAgICAgICAgICRtZERpYWxvZ1xuLy8gICAgICAgICAgICAgICAgLnNob3coXG4vLyAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmFsZXJ0KHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfQntGI0LjQsdC60LAnLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudDogJ9Cd0LXQstC10YDQvdC+INGD0LrQsNC30LDQvSBlbWFpbC/Qv9Cw0YDQvtC70YwnLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICBvazogJ9CX0LDQutGA0YvRgtGMJ1xuLy8gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jb29raWVzJylcbiAgICAgICAgLmZhY3RvcnkoJ0Nvb2tpZXMnLCBDb29raWVzKTtcblxuICAgIGZ1bmN0aW9uIENvb2tpZXMoJGNvb2tpZXMpIHtcbiAgICAgICAgJ25nSW5qZWN0JztcbiAgICAgICAgdmFyIGNvb2tpZU5hbWUgPSAnYXV0aGVudGNhdGVkQWNjb3VudCc7XG4gICAgICAgIHZhciBjb29raWVzID0ge1xuICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICBpc1NldDogaXNTZXQsXG4gICAgICAgICAgICBzZXQ6IHNldCxcbiAgICAgICAgICAgIHJlbW92ZTogcmVtb3ZlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGNvb2tpZXM7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkY29va2llcy5nZXQoY29va2llTmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc1NldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISRjb29raWVzLmdldChjb29raWVOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldChkYXRhKSB7XG4vLyAgICAgICAgICAgICRsb2cubG9nKCdjb29raWUgdG8gYmUgc2V0ICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAkY29va2llcy5wdXQoY29va2llTmFtZSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuLy8gICAgICAgICAgICAkbG9nLmxvZygnaW4gY29va2llOiAnICsgSlNPTi5zdHJpbmdpZnkoY29va2llcy5nZXQoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVmb3JlIGRlbGV0ZSAnICsgSlNPTi5wYXJzZSgkY29va2llcy5nZXQoY29va2llTmFtZSkpKTtcbiAgICAgICAgICAgICRjb29raWVzLnJlbW92ZShjb29raWVOYW1lKTtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2FmdGVyIGRlbGV0ZSAnICsgJGNvb2tpZXMuZ2V0KGNvb2tpZU5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZW5naW5lLnNlcnZpY2UnLCBbXSk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5hdXRoZW50aWNhdGlvbicsIFtdKTtcblxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29va2llcycsIFsnbmdDb29raWVzJ10pO1xuXG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5kZXBhcnRtZW50JywgWyduZ1Jlc291cmNlJ10pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAubG9naW4nLCBbJ25nTWVzc2FnZXMnLCAndWkucm91dGVyJ10pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5tYWluJywgWyd1aS5yb3V0ZXInXSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAgICAgICAnYXBwLmNvbmZpZycsXG4gICAgICAgICdhcHAuYXV0aGVudGljYXRpb24nLFxuICAgICAgICAnYXBwLmRlcGFydG1lbnQnLFxuICAgICAgICAnYXBwLnNlcnZlcmRhdGEnLFxuICAgICAgICAnYXBwLmVuZ2luZS5zZXJ2aWNlJyxcbiAgICAgICAgJ2FwcC5tYWluJyxcbiAgICAgICAgJ2FwcC5kYXRlcGlja2VyJyxcbiAgICAgICAgJ2FwcC5sb2dpbicsXG4gICAgICAgICdhcHAucmVnaXN0ZXInLFxuICAgICAgICAnYXBwLmNvb2tpZXMnLFxuICAgICAgICAnYXBwLnVzZXJkYXRhLnNlcnZpY2UnLFxuICAgICAgICAnYXBwLnVzZXJkYXRhLmNvbnRyb2xsZXInLFxuICAgICAgICAnYXBwLnRvb2xiYXInLFxuICAgICAgICAnYXBwLnVwbG9hZCcsXG4gICAgICAgICdhcHAudXBsb2FkLnNlcnZpY2UnLFxuICAgICAgICAnYXBwLnBhc3Nwb3J0JyxcbiAgICAgICAgJ2FwcC5wYXNzcG9ydC5zZXJ2aWNlJyxcbiAgICAgICAgJ2FwcC5yZXBvcnQnLFxuICAgIF0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbmZpZycsIFtcbiAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICduZ1Jlc291cmNlJ1xuICAgIF0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAudG9vbGJhcicsIFtdKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnVwbG9hZCcsIFsnbmdGaWxlVXBsb2FkJ10pO1xuXG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC51cGxvYWQuc2VydmljZScsIFtdKTtcblxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucGFzc3BvcnQnLCBbJ25nTWVzc2FnZXMnLCAnbmdBbmltYXRlJ10pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucGFzc3BvcnQuc2VydmljZScsIFtdKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnNlcnZlcmRhdGEnLCBbJ25nUmVzb3VyY2UnXSk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5kYXRlcGlja2VyJywgWyd1aS5ib290c3RyYXAnXSk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC51c2VyZGF0YS5jb250cm9sbGVyJywgW10pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAudXNlcmRhdGEuc2VydmljZScsIFtdKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnJlcG9ydCcsIFsnbmdNZXNzYWdlcycsICduZ0FuaW1hdGUnXSk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZW5naW5lLnNlcnZpY2UnKVxuICAgICAgICAuZmFjdG9yeSgnRW5naW5lJywgRW5naW5lKTtcblxuICAgIEVuZ2luZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gRW5naW5lKCRodHRwKSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSB7XG4gICAgICAgICAgICBnZXRBbGxFbmdpbmVzOiBnZXRBbGxFbmdpbmVzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGVuZ2luZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBnZXRBbGxFbmdpbmVzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9lbmdpbmUvJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmF1dGhlbnRpY2F0aW9uJylcbiAgICAgICAgLmZhY3RvcnkoJ0F1dGhlbnRpY2F0aW9uJywgQXV0aGVudGljYXRpb24pO1xuXG4gICAgQXV0aGVudGljYXRpb24uJGluamVjdCA9IFsnJGh0dHAnLCAnQ29va2llcycsICckcm9vdFNjb3BlJywgJyRzdGF0ZSddO1xuXG4gICAgZnVuY3Rpb24gQXV0aGVudGljYXRpb24oJGh0dHAsIENvb2tpZXMsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgYXV0aGVudGljYXRpb24gPSB7XG4gICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcbiAgICAgICAgICAgIGxvZ2luOiBsb2dpbixcbiAgICAgICAgICAgIGxvZ291dDogbG9nb3V0LFxuICAgICAgICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBDb29raWVzLmlzU2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvZ2luLycsIHtcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgICAgICB9KS50aGVuKGxvZ2luU3VjY2VzcywgbG9naW5GYWlsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2xvZ291dC8nLCB7fSlcbiAgICAgICAgICAgICAgICAudGhlbihsb2dvdXRTdWNjZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKGVtYWlsLCBwYXNzd29yZCwgZGVwYXJ0bWVudF9pZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvZGVwYXJ0bWVudC8nICsgZGVwYXJ0bWVudF9pZCArICcvdXNlci8nLCB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dpblN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIENvb2tpZXMuc2V0KHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnY29ra2llc1NldCcsICcnKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9nb3V0U3VjY2VzcygpIHtcbiAgICAgICAgICAgIENvb2tpZXMucmVtb3ZlKCk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdjb2traWVzU2V0JywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luRmFpbCgpIHtcbi8vICAgICAgICAgICAgJG1kRGlhbG9nXG4vLyAgICAgICAgICAgICAgICAuc2hvdyhcbi8vICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuYWxlcnQoe1xuLy8gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ9Ce0YjQuNCx0LrQsCcsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50OiAn0J3QtdCy0LXRgNC90L4g0YPQutCw0LfQsNC9IGVtYWlsL9C/0LDRgNC+0LvRjCcsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIG9rOiAn0JfQsNC60YDRi9GC0YwnXG4vLyAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgQ29va2llcy4kaW5qZWN0ID0gW1wiJGNvb2tpZXNcIl07XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuY29va2llcycpXG4gICAgICAgIC5mYWN0b3J5KCdDb29raWVzJywgQ29va2llcyk7XG5cbiAgICBmdW5jdGlvbiBDb29raWVzKCRjb29raWVzKSB7XG4gICAgICAgICduZ0luamVjdCc7XG4gICAgICAgIHZhciBjb29raWVOYW1lID0gJ2F1dGhlbnRjYXRlZEFjY291bnQnO1xuICAgICAgICB2YXIgY29va2llcyA9IHtcbiAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgaXNTZXQ6IGlzU2V0LFxuICAgICAgICAgICAgc2V0OiBzZXQsXG4gICAgICAgICAgICByZW1vdmU6IHJlbW92ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjb29raWVzO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJGNvb2tpZXMuZ2V0KGNvb2tpZU5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNTZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEkY29va2llcy5nZXQoY29va2llTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXQoZGF0YSkge1xuLy8gICAgICAgICAgICAkbG9nLmxvZygnY29va2llIHRvIGJlIHNldCAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgJGNvb2tpZXMucHV0KGNvb2tpZU5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbi8vICAgICAgICAgICAgJGxvZy5sb2coJ2luIGNvb2tpZTogJyArIEpTT04uc3RyaW5naWZ5KGNvb2tpZXMuZ2V0KCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2JlZm9yZSBkZWxldGUgJyArIEpTT04ucGFyc2UoJGNvb2tpZXMuZ2V0KGNvb2tpZU5hbWUpKSk7XG4gICAgICAgICAgICAkY29va2llcy5yZW1vdmUoY29va2llTmFtZSk7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZnRlciBkZWxldGUgJyArICRjb29raWVzLmdldChjb29raWVOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZGVwYXJ0bWVudCcpXG4gICAgICAgIC5mYWN0b3J5KCdEZXBhcnRtZW50JywgRGVwYXJ0bWVudCk7XG5cbiAgICBEZXBhcnRtZW50LiRpbmplY3QgPSBbJyRyZXNvdXJjZSddO1xuXG4gICAgZnVuY3Rpb24gRGVwYXJ0bWVudCgkcmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnL2FwaS9kZXBhcnRtZW50LzpkZXBJZC8nLCB7fSwge1xuICAgICAgICAgICAgbWVhc3VyZXJzOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge2RlcElkOiAxfSxcbiAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL2RlcGFydG1lbnQvOmRlcElkL21lYXN1cmVyLydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLnJ1bihbJyRodHRwJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSAnWC1DU1JGVG9rZW4nO1xuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLnhzcmZDb29raWVOYW1lID0gJ2NzcmZ0b2tlbic7XG4gICAgICAgIH1dKTtcblxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIExvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiQXV0aGVudGljYXRpb25cIl07XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubG9naW4nKVxuICAgICAgICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcblxuICAgIGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoZW50aWNhdGlvbikge1xuICAgICAgICAnbmdJbmplY3QnO1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmxvZ2luID0gbG9naW47XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBsb2dpbigpIHtcbiAgICAgICAgICAgIEF1dGhlbnRpY2F0aW9uLmxvZ2luKHZtLmVtYWlsLCB2bS5wYXNzd29yZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChBdXRoZW50aWNhdGlvbi5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubWFpbicpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKTtcblxuICAgIE1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ0F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdDb29raWVzJywgJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIE1haW5Db250cm9sbGVyKEF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24sIENvb2tpZXMsICRyb290U2NvcGUpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0ubWVudSA9IFtdO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIGlmICghQXV0aGVudGljYXRpb24uaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignY29ra2llc1NldCcsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2bS5tZW51ID0gW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dXBNZW51KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNldHVwTWVudSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0dXBNZW51KCkge1xuICAgICAgICAgICAgICAgIHZtLm1lbnUgPSBbe25hbWU6ICfQn9GA0L7RhNC40LvRjCcsIGxpbms6ICfQn9GA0L7RhNC40LvRjCcsIHJlZjogJ3Byb2ZpbGUnfV07XG5cbiAgICAgICAgICAgICAgICB2YXIgY29va2llcyA9IENvb2tpZXMuZ2V0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvb2tpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwb3J0X3R5cGVzID0gY29va2llcy5kZXBhcnRtZW50LnJlcG9ydF90eXBlcztcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlcG9ydF90eXBlcywgZnVuY3Rpb24ocmVwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5tZW51LnB1c2goe25hbWU6IHJlcG9ydC5uYW1lLCBsaW5rOiByZXBvcnQubmFtZSwgcmVmOiByZXBvcnQudXJsfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uLmlzQXV0aGVudGljYXRlZCgpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5yZWdpc3RlcicpXG4gICAgICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xuXG4gICAgUmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ0F1dGhlbnRpY2F0aW9uJywgJ0RlcGFydG1lbnQnXTtcblxuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihBdXRoZW50aWNhdGlvbiwgRGVwYXJ0bWVudCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmxvYWREZXBhcnRtZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgRGVwYXJ0bWVudC5xdWVyeShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdm0uYWxsRGVwcyA9IGRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQXV0aGVudGljYXRpb24ucmVnaXN0ZXIodm0uZW1haWwsIHZtLnBhc3N3b3JkLCB2bS5kZXBhcnRtZW50LmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlZ2lzdGVyU3VjY2VzcywgcmVnaXN0ZXJGYWlsKTtcbiAgICAgICAgfTtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0ubG9hZERlcGFydG1lbnRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWdpc3RlclN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICBBdXRoZW50aWNhdGlvbi5sb2dpbih2bS5lbWFpbCwgdm0ucGFzc3dvcmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJGYWlsKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvbmZpZycpXG4gICAgICAgIC5jb25maWcoY29uZmlnKVxuICAgICAgICAucnVuKHJ1bik7XG5cbiAgICBjb25maWcuJGluamVjdCA9IFtcbiAgICAgICAgJyRzdGF0ZVByb3ZpZGVyJyxcbiAgICAgICAgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gICAgICAgICckcmVzb3VyY2VQcm92aWRlcicsXG4gICAgICAgICckbG9jYXRpb25Qcm92aWRlcidcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRyZXNvdXJjZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICAgICAgICAgIHVybDogJy8nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC91c2VyL2xvZ2luLnRwbC5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXInLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3NyYy9hcHAvdXNlci9yZWdpc3Rlci50cGwuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3Byb2ZpbGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyRGF0YUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC91c2VyL3Byb2ZpbGUudHBsLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCd1cGxvYWQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3VwbG9hZCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1VwbG9hZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC9maWxlc3RvcmFnZS91cGxvYWQudHBsLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdwYXNzcG9ydCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcGFzc3BvcnQnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQYXNzcG9ydENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC9yZXBvcnQvcGFzc3BvcnQudHBsLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdyZXBvcnQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3JlcG9ydCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1JlcG9ydENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC9yZXBvcnQvcmVwb3J0L3JlcG9ydC50cGwuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3JlcG9ydC1jb250YWluZXInLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3JlcG9ydC1jb250YWluZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZXBvcnRDb250YWluZXJDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3NyYy9hcHAvcmVwb3J0L3JlcG9ydF9jb250YWluZXIvcmVwb3J0LnRwbC5odG1sJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgICAgICAgJHJlc291cmNlUHJvdmlkZXIuZGVmYXVsdHMuc3RyaXBUcmFpbGluZ1NsYXNoZXMgPSBmYWxzZTtcblxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgIHZhciBkb2MgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICBkb2Mub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmF2YmFyID0gZG9jLmZpbmQoJy5uYXZiYXItY29sbGFwc2UnKSxcbiAgICAgICAgICAgICAgICBvcGVuZWQgPSBuYXZiYXIuaGFzQ2xhc3MoJ2luJyk7XG4gICAgICAgICAgICBpZiAob3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgbmF2YmFyLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50b29sYmFyJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Rvb2xiYXJDb250cm9sbGVyJywgVG9vbGJhckNvbnRyb2xsZXIpO1xuXG4gICAgVG9vbGJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnQXV0aGVudGljYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIFRvb2xiYXJDb250cm9sbGVyKEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBdXRoZW50aWNhdGlvbi5sb2dvdXQoKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXBsb2FkJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1VwbG9hZENvbnRyb2xsZXInLCBVcGxvYWRDb250cm9sbGVyKTtcblxuICAgIFVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ1VwbG9hZCcsICdVcGxvYWRTZXJ2aWNlJ107XG5cbiAgICBmdW5jdGlvbiBVcGxvYWRDb250cm9sbGVyKCRzY29wZSwgVXBsb2FkLCBVcGxvYWRTZXJ2aWNlKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgJHNjb3BlLmZpbGVTZWxlY3RlZCA9IGZpbGVTZWxlY3RlZDtcblxuICAgICAgICB2bS5maWxlcyA9IFtdO1xuICAgICAgICB2bS51cGxvYWQgPSB1cGxvYWQ7XG4gICAgICAgIHZtLnVwbG9hZGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdm0ucmVtb3ZlID0gcmVtb3ZlO1xuICAgICAgICB2bS5zZWxlY3RlZCA9IFtdO1xuICAgICAgICB2bS5zb3J0T3JkZXIgPSAnLXVwbG9hZGVkX2F0JztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgZ2V0VXBsb2FkZWRGaWxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlsZVNlbGVjdGVkKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHVwbG9hZChlbGVtZW50LmZpbGVzKTtcbiAgICAgICAgICAgIGdldFVwbG9hZGVkRmlsZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZChmaWxlcykge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdXBsb2FkLycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtmaWxldXBsb2FkOiBmaWxlfVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFVwbG9hZGVkRmlsZXMoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBzdGF0dXM6ICcgKyByZXNwLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFVwbG9hZGVkRmlsZXMoKSB7XG4gICAgICAgICAgICBVcGxvYWRTZXJ2aWNlLnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnVwbG9hZGVkRmlsZXMgPSByZXNwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnNlbGVjdGVkLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgVXBsb2FkU2VydmljZS5yZW1vdmUoZmlsZS5pZCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRmlsZUVudHJ5KGZpbGUuaWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZtLnNlbGVjdGVkID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVGaWxlRW50cnkoaWQpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS51cGxvYWRlZEZpbGVzLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZtLnVwbG9hZGVkRmlsZXNba10uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnVwbG9hZGVkRmlsZXMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnVwbG9hZC5zZXJ2aWNlJylcbiAgICAgICAgLmZhY3RvcnkoJ1VwbG9hZFNlcnZpY2UnLCBVcGxvYWRTZXJ2aWNlKTtcblxuICAgIFVwbG9hZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcbiAgICBmdW5jdGlvbiBVcGxvYWRTZXJ2aWNlKCRodHRwKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgcmVtb3ZlOiByZW1vdmVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcblxuICAgICAgICBmdW5jdGlvbiBxdWVyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZmlsZS8nKS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZShpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9maWxlLycgKyBpZCArICcvJykuXG4gICAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2F1dG9mb2N1cycsIEF1dG9mb2N1c0RpcmVjdGl2ZSk7XG5cbiAgICBBdXRvZm9jdXNEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXVxuICAgIGZ1bmN0aW9uIEF1dG9mb2N1c0RpcmVjdGl2ZSgkdGltZW91dCkge1xuXHRyZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgIGxpbmsgOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50KSB7XG5cdFx0ICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdCAgICAkZWxlbWVudC5mb2N1cygpO1xuXHRcdH0pO1xuXHQgICAgfVxuXHR9XG4gICAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NoZWNrbWFyaycsIENoZWNrbWFya0RpcmVjdGl2ZSk7XG5cbiAgICBmdW5jdGlvbiBDaGVja21hcmtEaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXF1aXJlOiAnXmZvcm0nLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgZm9ybUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybUNvbnRyb2xsZXIuJG5hbWUgPT09ICd2bS5kb2NzRm9ybScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvd0NoZWNrbWFyayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZvcm1Db250cm9sbGVyLiRuYW1lICsgJy4kdmFsaWQnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3dDaGVja21hcmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvd0NoZWNrbWFyayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBuZy1pZj1cInNob3dDaGVja21hcmtcIj4nICtcbiAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJpY29uIGlvbi1jaGVja21hcmtcIiBzdHlsZT1cImNvbG9yOiAjMDBlNjc2XCI+PC9pPiZuYnNwOycgK1xuICAgICAgICAgICAgICAgICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgJzxzcGFuIG5nLXRyYW5zY2x1ZGU+PC9zcGFuPidcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFzc3BvcnQnKVxuICAgICAgICAuY29udHJvbGxlcignUGFzc3BvcnRDb250cm9sbGVyJywgUGFzc3BvcnRDb250cm9sbGVyKTtcblxuICAgIFBhc3Nwb3J0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHN0YXRlJywgJ1VzZXJEYXRhJywgJ0RlcGFydG1lbnQnLCAnRW5naW5lJywgJ1Bhc3Nwb3J0JywgJ1VwbG9hZCddO1xuICAgIGZ1bmN0aW9uIFBhc3Nwb3J0Q29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgVXNlckRhdGEsIERlcGFydG1lbnQsIEVuZ2luZSwgUGFzc3BvcnQsIFVwbG9hZCkge1xuXG4gICAgICAgICRzY29wZS51cGxvYWQgPSB1cGxvYWQ7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcyxcbiAgICAgICAgICAgIGRvY3MgPSBbXG4gICAgICAgICAgICAgICAge25hbWU6ICfQltGD0YDQvdCw0Lsg0YDQtdC80L7QvdGC0LAg0Y3Qu9C10LrRgtGA0L7QtNCy0LjQs9Cw0YLQtdC70Y8nLCB2YWx1ZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAge25hbWU6ICfQltGD0YDQvdCw0Lsg0Y3QutGB0L/Qu9GD0LDRgtCw0YbQuNC4INGN0LvQtdC60YLRgNC+0LTQstC40LPQsNGC0LXQu9GPJywgdmFsdWU6IHRydWV9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAn0JjQvdGB0YLRgNGD0LrRhtC40Y8g0L/QviDRjdC60YHQv9C70YPQsNGC0LDRhtC40Lgg0LfQsNCy0L7QtNCwLdC40LfQs9C+0YLQvtCy0LjRgtC10LvRjycsIHZhbHVlOiB0cnVlfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ9Cf0YDQvtGC0L7QutC+0LvRiyDRiNGC0LDRgtC90YvRhSDQuNC30LzQtdGA0LXQvdC40Lkg0Lgg0LjRgdC/0YvRgtCw0L3QuNC5JywgdmFsdWU6IHRydWV9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAn0J/QsNGB0L/QvtGA0YIg0LfQsNCy0L7QtNCwLdC40LfQs9C+0YLQvtCy0LjRgtC10LvRjyDQvdCwINCy0LfRgNGL0LLQvtC30LDRidC40YnQtdC90L3Ri9C5INGN0LvQtdC60YLRgNC+0LTQstC40LPQsNGC0LXQu9GMJywgdmFsdWU6IHRydWV9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAn0KHRhdC10LzQsCDRjdC70LXQutGC0YDQvtGB0L3QsNCx0LbQtdC90LjRjyDRjdC70LXQutGC0YDQvtC00LLQuNCz0LDRgtC10LvRjycsIHZhbHVlOiB0cnVlfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhZ2VzID0gW1xuICAgICAgICAgICAgICAgICd0ZWFtLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnbWVhc3VyZXJzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnbHB1LnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnZGF0ZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdlbmdpbmVzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAndmFsdWVzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnZG9jcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3Bob3Rvcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3RoZXJtLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAndmlicm8udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXNpc3RhbmNlLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnc2lnbmVycy50cGwuaHRtbCdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICByYW5rcyA9IFtcbiAgICAgICAgICAgICAgICAn0YDRg9C60L7QstC+0LTQuNGC0LXQu9GMINCx0YDQuNCz0LDQtNGLJyxcbiAgICAgICAgICAgICAgICAn0LfQsNC8LiDRgNGD0LrQvtCy0L7QtNC40YLQtdC70Y8g0LHRgNC40LPQsNC00YsnLFxuICAgICAgICAgICAgICAgICfRh9C70LXQvSDQsdGA0LjQs9Cw0LTRiydcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtZWFzdXJlcnMgPSB7XG4gICAgICAgICAgICAgICAgYWxsOiBEZXBhcnRtZW50Lm1lYXN1cmVycygpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBbXSxcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6ICduYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZ2luZSA9IHtcbiAgICAgICAgICAgICAgICBhbGw6IFtdLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdzZXJpYWxfbnVtYmVyJzogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiAnbmFtZSdcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICB2bS5hZGRFbXBsb3llZSA9IGFkZEVtcGxveWVlO1xuICAgICAgICB2bS5hbGxFbXBsb3llZXMgPSBbXTtcbiAgICAgICAgdm0uY3JlYXRlUGFzc3BvcnQgPSBjcmVhdGVQYXNzcG9ydDtcbiAgICAgICAgdm0uZW5naW5lID0gZW5naW5lO1xuICAgICAgICB2bS53b3JrQmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLndvcmtFbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLmludmVzdGlnYXRpb25EYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB2bS5scHVzID0ge307XG4gICAgICAgIHZtLm9yZ3MgPSB7fTtcbiAgICAgICAgdm0ucGFnZXMgPSBwYWdlcztcbiAgICAgICAgdm0udGNsYXNzZXMgPSB7YWxsOiBbXSwgc2VsZWN0ZWQ6ICcnfTtcbiAgICAgICAgdm0uZ2V0TFBVcyA9IGdldExQVXM7XG4gICAgICAgIHZtLm1lYXN1cmVycyA9IG1lYXN1cmVycztcbiAgICAgICAgdm0ucmFua3MgPSByYW5rcztcbiAgICAgICAgdm0ucmVwb3J0ID0ge1xuICAgICAgICAgICAgdGVhbTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWVhc3VyZXJzOiBtZWFzdXJlcnMuc2VsZWN0ZWQsXG4gICAgICAgICAgICBmaWxlczoge30sXG4gICAgICAgICAgICB0aGVybToge30sXG4gICAgICAgICAgICB2aWJybzoge30sXG4gICAgICAgICAgICBvcmRlcjoge30sXG4gICAgICAgICAgICByZXNpc3RhbmNlOiB7fVxuICAgICAgICB9O1xuICAgICAgICB2bS5zZXRTZWxlY3RlZCA9IHNldFNlbGVjdGVkO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZG5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZWxlbWVudC5maWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZC8nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZmlsZXVwbG9hZDogZmlsZX1cbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnJlcG9ydC5maWxlc1tmaWVsZG5hbWVdID0gcmVzcG9uc2UuZGF0YS5pZDtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5yZXBvcnQudGVhbSA9IFt7J25hbWUnOiAnJywgJ3JlcXVpcmVkJzogdHJ1ZX1dO1xuICAgICAgICAgICAgdm0ucmVwb3J0LmRvY3MgPSBkb2NzO1xuICAgICAgICAgICAgZ2V0RW1wbG95ZWVzKCk7XG4gICAgICAgICAgICBnZXRFbmdpbmVzKCk7XG4gICAgICAgICAgICBnZXRPcmdzKCk7XG4gICAgICAgICAgICBnZXRUQ2xhc3NlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkRW1wbG95ZWUoKSB7XG4gICAgICAgICAgICB2bS5yZXBvcnQudGVhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICcnLCAncmVxdWlyZWQnOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgIGNvbnNvbGUuZGlyKCd0ZWFtOiAnICsgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0LnRlYW0pKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXNzcG9ydCgpIHtcblxuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnZG9jcyAnICsgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0LmRvY3MpKTtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2ludmVzdGlnYXRpb25EYXRlICcgKyB2bS5pbnZlc3RpZ2F0aW9uRGF0ZS50b0xvY2FsZVN0cmluZygpKTtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2JlZ2luICcgKyB2bS53b3JrQmVnaW4pO1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnZW5kICcgKyB2bS53b3JrRW5kLnRvTG9jYWxlU3RyaW5nKCkpO1xuLy8gICAgICAgICAgICBQYXNzcG9ydC5jcmVhdGVQYXNzcG9ydCh2bS53b3JrQmVnaW4pO1xuICAgICAgICAgICAgdm0ucmVwb3J0LnR5cGUgPSAncGFzc3BvcnQnO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlYW06JywgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0KSk7XG4vLyAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlbGV0ZSB2bS5yZXBvcnQudGVhbVswXS5yZXF1aXJlZDtcbi8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3ZtLnRjbGFzc2VzLmFsbDogJyArIEpTT04uc3RyaW5naWZ5KHZtLnRjbGFzc2VzLmFsbCkpO1xuICAgICAgICAgICAgdm0ucmVwb3J0LnRoZXJtLnRjbGFzcyA9IHZtLnRjbGFzc2VzLmFsbC5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gdm0udGNsYXNzZXMuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9KVswXS5pZDtcbi8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3NlbGVjdGVkIGNsYXNzOiAnICsgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0LnRoZXJtKSk7XG4gICAgICAgICAgICBQYXNzcG9ydC5jcmVhdGVQYXNzcG9ydCh2bS5yZXBvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RW1wbG95ZWVzKCkge1xuICAgICAgICAgICAgVXNlckRhdGEuZ2V0QWxsVXNlcnMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWxsRW1wbG95ZWVzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RW5naW5lcygpIHtcbiAgICAgICAgICAgIEVuZ2luZS5nZXRBbGxFbmdpbmVzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLmVuZ2luZS5hbGwgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3JncygpIHtcbiAgICAgICAgICAgIFBhc3Nwb3J0LmdldE9yZ3MoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ub3JncyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMUFVzKG9yZ05hbWUpIHtcbiAgICAgICAgICAgIHZhciBvcmdhbiA9IHZtLm9yZ3MuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IG9yZ05hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0TFBVcyhvcmdhblswXS5pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLmxwdXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VENsYXNzZXMoKSB7XG4gICAgICAgICAgICBQYXNzcG9ydC5nZXRUQ2xhc3NlcygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS50Y2xhc3Nlcy5hbGwgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0U2VsZWN0ZWQoc2VsZWN0ZWQsIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBpZCA9IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgaW5kZXggPSBzZWxlY3RlZC5pbmRleE9mKGlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFzc3BvcnQuc2VydmljZScpXG4gICAgICAgIC5mYWN0b3J5KCdQYXNzcG9ydCcsIFBhc3Nwb3J0KTtcblxuICAgIFBhc3Nwb3J0LiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBQYXNzcG9ydCgkaHR0cCkge1xuICAgICAgICB2YXIgcGFzc3BvcnQgPSB7XG4gICAgICAgICAgICBjcmVhdGVQYXNzcG9ydDogY3JlYXRlUGFzc3BvcnQsXG4gICAgICAgICAgICBnZXRMUFVzOiBnZXRMUFVzLFxuICAgICAgICAgICAgZ2V0T3JnczogZ2V0T3JncyxcbiAgICAgICAgICAgIGdldFRDbGFzc2VzOiBnZXRUQ2xhc3Nlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBwYXNzcG9ydDtcblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXNzcG9ydChyZXBvcnRfZGF0YSkge1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3JlcG9ydC8nLFxuICAgICAgICAgICAgICAgICAgICB7J3JlcG9ydF9kYXRhJzogcmVwb3J0X2RhdGF9LFxuICAgICAgICAgICAgICAgICAgICB7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ31cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiAnYXBwbGljYXRpb24vcGRmJ30pO1xuICAgICAgICAgICAgICAgICAgICBzYXZlQXMoZmlsZSwgJ3JlcG9ydC5wZGYnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMUFVzKG9yZ0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29yZ2FuaXphdGlvbi8nICsgb3JnSWQgKyAnL2xwdS8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE9yZ3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29yZ2FuaXphdGlvbi8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRDbGFzc2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS90Y2xhc3MvJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3ZhbGlkRmlsZScsIFZhbGlkRmlsZURpcmVjdGl2ZSk7XG5cbi8vICAgIFZhbGlkRmlsZURpcmVjdGl2ZS4kaW5qZWN0ID0gWydVcGxvYWQnXTtcbi8vXG4vLyAgICBmdW5jdGlvbiBWYWxpZEZpbGVEaXJlY3RpdmUoVXBsb2FkKSB7XG4vLyAgICAgICAgZnVuY3Rpb24gdXBsb2FkKGZpbGUpIHtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwbG9hZGluZyBmaWxlICcgKyBmaWxlKTtcbi8vICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4vLyAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZC8nLFxuLy8gICAgICAgICAgICAgICAgZGF0YToge2ZpbGV1cGxvYWQ6IGZpbGV9XG4vLyAgICAgICAgICAgIH0pLlxuLy8gICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4vLyAgICAgICAgICAgICAgICB2bS5yZXBvcnQuZmlsZXNbZmllbGRuYW1lXSA9IHJlc3BvbnNlLmRhdGEuaWQ7XG4vLyAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbi8vICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgfVxuXG4gICAgZnVuY3Rpb24gVmFsaWRGaWxlRGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBuZ01vZGVsKXtcbiAgICAgICAgICAgICAgICBlbC5iaW5kKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShlbC52YWwoKSk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaWxlbmFtZSAnICsgZWwudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZChzY29wZS5pbWcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnNlcnZlcmRhdGEnKVxuICAgICAgICAuZmFjdG9yeSgnU2VydmVyRGF0YScsIFNlcnZlckRhdGEpO1xuXG4gICAgU2VydmVyRGF0YS4kaW5qZWN0ID0gWyckcmVzb3VyY2UnXTtcblxuICAgIGZ1bmN0aW9uIFNlcnZlckRhdGEoJHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJy9hcGkvOmNhdGVnb3J5LycpO1xuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmRhdGVwaWNrZXInKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZXBpY2tlckNvbnRyb2xsZXInLCBEYXRlcGlja2VyQ29udHJvbGxlcik7XG5cbiAgICBEYXRlcGlja2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyd1aWJEYXRlcGlja2VyUG9wdXBDb25maWcnXTtcblxuICAgIGZ1bmN0aW9uIERhdGVwaWNrZXJDb250cm9sbGVyKHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZykge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZVRleHQgPSAn0JfQsNC60YDRi9GC0YwnO1xuICAgICAgICB1aWJEYXRlcGlja2VyUG9wdXBDb25maWcuY3VycmVudFRleHQgPSAn0KHQtdCz0L7QtNC90Y8nO1xuICAgICAgICB1aWJEYXRlcGlja2VyUG9wdXBDb25maWcuY2xlYXJUZXh0ID0gJ9Ce0YfQuNGB0YLQuNGC0YwnO1xuLy8gICAgICAgIHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZy5odG1sNVR5cGVzID0gJ2RhdGV0aW1lLWxvY2FsJztcblxuXG4gICAgICAgIHZtLmRhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDFcbiAgICAgICAgfTtcblxuICAgICAgICB2bS55ZWFyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRhdGVwaWNrZXJNb2RlOiAneWVhcicsXG4gICAgICAgICAgICBtYXhNb2RlOiAneWVhcicsXG4gICAgICAgICAgICBtaW5Nb2RlOiAneWVhcicsXG4gICAgICAgICAgICBmb3JtYXRZZWFyOiAneXl5eSdcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdm0ucG9wdXAub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5wb3B1cCA9IHtcbiAgICAgICAgICBvcGVuZWQ6IGZhbHNlXG4gICAgICAgIH07XG5cbi8vICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuLy8gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4vLyAgICAgICAgdmFyIGFmdGVyVG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuLy8gICAgICAgIGFmdGVyVG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTtcbi8vICAgICAgICB2bS5ldmVudHMgPSBbXG4vLyAgICAgICAgICB7XG4vLyAgICAgICAgICAgIGRhdGU6IHRvbW9ycm93LFxuLy8gICAgICAgICAgICBzdGF0dXM6ICdmdWxsJ1xuLy8gICAgICAgICAgfSxcbi8vICAgICAgICAgIHtcbi8vICAgICAgICAgICAgZGF0ZTogYWZ0ZXJUb21vcnJvdyxcbi8vICAgICAgICAgICAgc3RhdHVzOiAncGFydGlhbGx5J1xuLy8gICAgICAgICAgfVxuLy8gICAgICAgIF07XG4vL1xuLy8gICAgICAgIGZ1bmN0aW9uIGdldERheUNsYXNzKGRhdGEpIHtcbi8vICAgICAgICAgIHZhciBkYXRlID0gZGF0YS5kYXRlLFxuLy8gICAgICAgICAgICBtb2RlID0gZGF0YS5tb2RlO1xuLy8gICAgICAgICAgaWYgKG1vZGUgPT09ICdkYXknKSB7XG4vLyAgICAgICAgICAgIHZhciBkYXlUb0NoZWNrID0gbmV3IERhdGUoZGF0ZSkuc2V0SG91cnMoMCwwLDAsMCk7XG4vL1xuLy8gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmV2ZW50cy5sZW5ndGg7IGkrKykge1xuLy8gICAgICAgICAgICAgIHZhciBjdXJyZW50RGF5ID0gbmV3IERhdGUodm0uZXZlbnRzW2ldLmRhdGUpLnNldEhvdXJzKDAsMCwwLDApO1xuLy9cbi8vICAgICAgICAgICAgICBpZiAoZGF5VG9DaGVjayA9PT0gY3VycmVudERheSkge1xuLy8gICAgICAgICAgICAgICAgcmV0dXJuIHZtLmV2ZW50c1tpXS5zdGF0dXM7XG4vLyAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgICB9XG4vL1xuLy8gICAgICAgICAgcmV0dXJuICcnO1xuLy8gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC51c2VyZGF0YS5jb250cm9sbGVyJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1VzZXJEYXRhQ29udHJvbGxlcicsIFVzZXJEYXRhQ29udHJvbGxlcik7XG5cbiAgICBVc2VyRGF0YUNvbnRyb2xsZXIuJGluamVjdCA9IFsnVXNlckRhdGEnXTtcblxuICAgIGZ1bmN0aW9uIFVzZXJEYXRhQ29udHJvbGxlcihVc2VyRGF0YSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLnVwZGF0ZVByb2ZpbGUgPSB1cGRhdGVQcm9maWxlO1xuICAgICAgICB2bS51c2VyZGF0YSA9IFVzZXJEYXRhO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICBVc2VyRGF0YS5nZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGUoKSB7XG4gICAgICAgICAgICBVc2VyRGF0YS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC51c2VyZGF0YS5zZXJ2aWNlJylcbiAgICAgICAgLmZhY3RvcnkoJ1VzZXJEYXRhJywgVXNlckRhdGEpO1xuXG4gICAgVXNlckRhdGEuJGluamVjdCA9IFsnQ29va2llcycsICckaHR0cCcsICckcScsICckdGltZW91dCddO1xuXG4gICAgZnVuY3Rpb24gVXNlckRhdGEoQ29va2llcywgJGh0dHAsICRxLCAkdGltZW91dCkge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIGZpcnN0X25hbWU6ICcnLFxuICAgICAgICAgICAgbGFzdF9uYW1lOiAnJyxcbiAgICAgICAgICAgIG1pZGRsZV9uYW1lOiAnJyxcbiAgICAgICAgICAgIGRlcGFydG1lbnQ6ICcnXG4gICAgICAgIH07XG4gICAgICAgIHZhciB1c2VyZGF0YSA9IHtcbiAgICAgICAgICAgIGNsZWFuOiBjbGVhbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBnZXQ6IGdldCxcbiAgICAgICAgICAgIGdldEFsbFVzZXJzOiBnZXRBbGxVc2VycyxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgICAgIHVwZGF0ZVN1Y2Nlc3NmdWxsOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB1c2VyZGF0YTtcblxuICAgICAgICBmdW5jdGlvbiBjbGVhbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh1c2VyZGF0YS5kYXRhLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrXSA9ICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgY29va2llID0gQ29va2llcy5nZXQoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb29raWUsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgICAgICBpZiAoayBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFba10gPSBjb29raWVba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHtcbiAgICAgICAgICAgIHZhciBjb29raWUgPSBDb29raWVzLmdldCgpO1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9kZXBhcnRtZW50LycgKyBjb29raWUuZGVwYXJ0bWVudC5pZCArICcvdXNlci8nKS50aGVuKFxuICAgICAgICAgICAgICAgIGdldEFsbFVzZXJzU3VjY2Vzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEFsbFVzZXJzU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICB2YXIgY29va2llID0gQ29va2llcy5nZXQoKTtcblxuICAgICAgICAgICAgdXNlcmRhdGEuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHVzZXJkYXRhLnVwZGF0ZVN1Y2Nlc3NmdWxsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgICAgICAgY29va2llW2tdID0gZGF0YVtrXTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBDb29raWVzLnNldChjb29raWUpO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZURCKGNvb2tpZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVEQihjb29raWUpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvZGVwYXJ0bWVudC8nICsgY29va2llLmRlcGFydG1lbnQuaWQgK1xuICAgICAgICAgICAgICAgICAgICAnL3VzZXIvJyArIGNvb2tpZS51c2VybmFtZSArICcvJywge1xuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IGRhdGEuZmlyc3RfbmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6IGRhdGEubGFzdF9uYW1lLFxuICAgICAgICAgICAgICAgIG1pZGRsZV9uYW1lOiBkYXRhLm1pZGRsZV9uYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odXBkYXRlU3VjY2VzcylcbiAgICAgICAgICAgIC5jYXRjaCh1cGRhdGVGYWlsZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgdXNlcmRhdGEuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB1c2VyZGF0YS51cGRhdGVTdWNjZXNzZnVsbCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIE9LLWluZGljYXRvciB3aWxsIGJlIHNob3duIGZvciAzIHNlY29uZHNcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLnVwZGF0ZVN1Y2Nlc3NmdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB9LCAzMDAwKTtcblxuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgZnJvbSB1cGRhdGU6ICVzJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpO1xuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXR1cyBmcm9tIHVwZGF0ZTogJXMnLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGYWlsZWQoZSkge1xuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmxvZ2luJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZ21wSW5wdXQnLCBnbXBJbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBnbXBJbnB1dCAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuLy8gICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50KSB7XG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkZWxlbWVudC5hdHRyKCduYW1lJykpO1xuLy8gICAgICAgICAgICAgICAgJHNjb3BlLmhhc0Vycm9yID0gdGhpcy5maWVsZC4kdG91Y2hlZCAmJiB0aGlzLmZpZWxkLiRpbnZhbGlkO1xuLy9cbi8vICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaXNWYWxpZCA9IHNjb3BlLnVzZXJGb3JtLmVtYWlsLiR0b3VjaGVkO1xuLy8gICAgICAgICAgICAgICAgc2NvcGUudXNlckZvcm0uZW1haWwuJHRvdWNoZWQuJHdhdGNoKClcblxuICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW0sIHRBdHRycykge1xuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2F0dHJzOiAnICsgdEF0dHJzLmlkKTtcbi8vICAgICAgICAgICAgICAgIHRFbGVtLmZpbmQoJ2xhYmVsJykuYXR0cignZm9yJywgdEF0dHJzLmlkKTtcbi8vICAgICAgICAgICAgICAgIHRFbGVtLmZpbmQoJ2lucHV0JykuYXR0cignaWQnLCB0QXR0cnMuaWQpO1xuLy8gICAgICAgICAgICAgICAgdEVsZW0uZmluZCgnaW5wdXQnKS5hdHRyKCduYW1lJywgJ2VtYWlsJyk7XG4vLyAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgIHNjb3BlOiB7XG4vLyAgICAgICAgICAgICAgICB0eXBlOiAnQCcsXG4vLyAgICAgICAgICAgICAgICBtb2RlbDogJz1uZ01vZGVsJyxcbi8vICAgICAgICAgICAgICAgIGZpZWxkOiAnPScsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0AnXG4vLyAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC91c2VyL2dtcC1pbnB1dC5kaXJlY3RpdmUudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnJlcG9ydCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdSZXBvcnRDb250cm9sbGVyJywgUmVwb3J0Q29udHJvbGxlcik7XG5cbiAgICBSZXBvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnVXNlckRhdGEnLCAnRGVwYXJ0bWVudCcsICdFbmdpbmUnLCAnUGFzc3BvcnQnLCAnVXBsb2FkJ107XG4gICAgZnVuY3Rpb24gUmVwb3J0Q29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgVXNlckRhdGEsIERlcGFydG1lbnQsIEVuZ2luZSwgUGFzc3BvcnQsIFVwbG9hZCkge1xuXG4gICAgICAgICRzY29wZS51cGxvYWQgPSB1cGxvYWQ7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcyxcbiAgICAgICAgICAgIHBhZ2VzID0gW1xuICAgICAgICAgICAgICAgICdyZXBvcnQvdGVhbS50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydC9yZXBvcnRfaW5mby50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ21lYXN1cmVycy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ2xwdS50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydC9kYXRlcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ2VuZ2luZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdvcmRlci50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydC9waG90b3MudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ3ZhbHVlcy50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAnZG9jcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3RoZXJtLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAndmlicm8udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXNpc3RhbmNlLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdzaWduZXJzLnRwbC5odG1sJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNvbnRyb2xfdHlwZXMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JLQmNCaJyxcbiAgICAgICAgICAgICAgICAgICAgZnVsbF9uYW1lOiAn0JLQuNC30YPQsNC70YzQvdGL0Lkg0Lgg0LjQt9C80LXRgNC40YLQtdC70YzQvdGL0Lkg0LrQvtC90YLRgNC+0LvRjCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Cj0JonLFxuICAgICAgICAgICAgICAgICAgICBmdWxsX25hbWU6ICfQo9C70YzRgtGA0LDQt9Cy0YPQutC+0LLQvtC5INC60L7QvdGC0YDQvtC70YwnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQotCaJyxcbiAgICAgICAgICAgICAgICAgICAgZnVsbF9uYW1lOiAn0KLQtdC/0LvQvtCy0L7QuSDQutC+0L3RgtGA0L7Qu9GMJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0JLQlCcsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogJ9CS0LjQsdGA0L7QtNC40LDQs9C90L7RgdGC0LjRh9C10YHQutC40Lkg0LrQvtC90YLRgNC+0LvRjCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9Ct0JsnLFxuICAgICAgICAgICAgICAgICAgICBmdWxsX25hbWU6ICfQrdC70LXQutGC0YDQuNGH0LXRgdC60LjQuSDQutC+0L3RgtGA0L7Qu9GMJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtZWFzdXJlcnMgPSB7XG4gICAgICAgICAgICAgICAgYWxsOiBEZXBhcnRtZW50Lm1lYXN1cmVycygpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBbXSxcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6ICduYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZ2luZSA9IHtcbiAgICAgICAgICAgICAgICBhbGw6IFtdLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdzZXJpYWxfbnVtYmVyJzogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiAnbmFtZSdcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICB2bS5hZGRUb0NvbGxlY3Rpb24gPSBhZGRUb0NvbGxlY3Rpb247XG4gICAgICAgIHZtLmFsbEVtcGxveWVlcyA9IFtdO1xuICAgICAgICB2bS5jb250cm9sX3R5cGVzID0gY29udHJvbF90eXBlcztcbiAgICAgICAgdm0uY3JlYXRlUGFzc3BvcnQgPSBjcmVhdGVQYXNzcG9ydDtcbiAgICAgICAgdm0uZW5naW5lID0gZW5naW5lO1xuICAgICAgICB2bS53b3JrQmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLndvcmtFbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLmxwdXMgPSB7fTtcbiAgICAgICAgdm0ub3JncyA9IHt9O1xuICAgICAgICB2bS5wYWdlcyA9IHBhZ2VzO1xuICAgICAgICB2bS5wcm9jS2V5UHJlc3MgPSBwcm9jS2V5UHJlc3M7XG4gICAgICAgIHZtLnRjbGFzc2VzID0ge2FsbDogW10sIHNlbGVjdGVkOiAnJ307XG4gICAgICAgIHZtLmdldExQVXMgPSBnZXRMUFVzO1xuICAgICAgICB2bS5tZWFzdXJlcnMgPSBtZWFzdXJlcnM7XG4gICAgICAgIHZtLnJlcG9ydCA9IHtcbiAgICAgICAgICAgIHRlYW06IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1lYXN1cmVyczogbWVhc3VyZXJzLnNlbGVjdGVkLFxuICAgICAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAgICAgICAnbWFpbic6IFtdLFxuICAgICAgICAgICAgICAgICd0aGVybTEnOiBbXSxcbiAgICAgICAgICAgICAgICAndGhlcm0yJzogW10sXG4gICAgICAgICAgICAgICAgJ2xpY2Vuc2VzJzogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVybToge30sXG4gICAgICAgICAgICB2aWJybzoge30sXG4gICAgICAgICAgICBvcmRlcjoge30sXG4gICAgICAgICAgICByZXNpc3RhbmNlOiB7fVxuICAgICAgICB9O1xuICAgICAgICB2bS5zZXRTZWxlY3RlZCA9IHNldFNlbGVjdGVkO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5yZXBvcnQuaW5mbyA9IHtcbiAgICAgICAgICAgICAgICBsaWNlbnNlOiAn0JTQvtCz0L7QstC+0YAg4oSWICAgICAgICAgINC+0YIgICAgICAgICAg0L3QsCDQstGL0L/QvtC70L3QtdC90LjQtSDRgNCw0LHQvtGCINC/0L4g0Y3QutGB0L/QtdGA0YLQuNC30LUg0L/RgNC+0LzRi9GI0LvQtdC90L3QvtC5INCx0LXQt9C+0L/QsNGB0L3QvtGB0YLQuC4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdm0ucmVwb3J0LnRlYW0gPSB7fTtcbiAgICAgICAgICAgIHZtLnJlcG9ydC5kb2NzID0gW107XG4gICAgICAgICAgICB2bS5yZXBvcnQub2JqX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgZGV0YWlsX2luZm86IFtdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBnZXRFbXBsb3llZXMoKTtcbiAgICAgICAgICAgIGdldEVuZ2luZXMoKTtcbiAgICAgICAgICAgIGdldE9yZ3MoKTtcbiAgICAgICAgICAgIGdldFRDbGFzc2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRUb0NvbGxlY3Rpb24oYXJyLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgLy8gVGVzdCBmb3IgYWJzZW5jZSBvZiBhIG5ldyB2YWx1ZSBpbiBhcnJheSBcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgYXJyLmluZGV4T2YodmFsdWUpID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXNzcG9ydCgpIHtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvY3MgJyArIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydC5kb2NzKSk7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnZlc3RpZ2F0aW9uRGF0ZSAnICsgdm0uaW52ZXN0aWdhdGlvbkRhdGUudG9Mb2NhbGVTdHJpbmcoKSk7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiZWdpbiAnICsgdm0ud29ya0JlZ2luKTtcbi8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZCAnICsgdm0ud29ya0VuZC50b0xvY2FsZVN0cmluZygpKTtcbi8vICAgICAgICAgICAgUGFzc3BvcnQuY3JlYXRlUGFzc3BvcnQodm0ud29ya0JlZ2luKTtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50eXBlID0gICdyZXBvcnQnO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlYW06JywgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0KSk7XG4vLyAgICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3ZtLnRjbGFzc2VzLmFsbDogJyArIEpTT04uc3RyaW5naWZ5KHZtLnRjbGFzc2VzLmFsbCkpO1xuICAgICAgICAgICAgdm0ucmVwb3J0LnRoZXJtLnRjbGFzcyA9IHZtLnRjbGFzc2VzLmFsbC5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gdm0udGNsYXNzZXMuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9KVswXS5pZDtcbi8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3NlbGVjdGVkIGNsYXNzOiAnICsgSlNPTi5zdHJpbmdpZnkodm0ucmVwb3J0LnRoZXJtKSk7XG4gICAgICAgICAgICBQYXNzcG9ydC5jcmVhdGVQYXNzcG9ydCh2bS5yZXBvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RW1wbG95ZWVzKCkge1xuICAgICAgICAgICAgVXNlckRhdGEuZ2V0QWxsVXNlcnMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWxsRW1wbG95ZWVzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEVuZ2luZXMoKSB7XG4gICAgICAgICAgICBFbmdpbmUuZ2V0QWxsRW5naW5lcygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5lbmdpbmUuYWxsID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE9yZ3MoKSB7XG4gICAgICAgICAgICBQYXNzcG9ydC5nZXRPcmdzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLm9yZ3MgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TFBVcyhvcmdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgb3JnYW4gPSB2bS5vcmdzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5uYW1lID09PSBvcmdOYW1lO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBhc3Nwb3J0LmdldExQVXMob3JnYW5bMF0uaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5scHVzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRDbGFzc2VzKCkge1xuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0VENsYXNzZXMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0udGNsYXNzZXMuYWxsID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHByb2NLZXlQcmVzcyhjbGlja0V2ZW50LCBhcnIpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBSZXR1cm4gKEVudGVyKSBrZXkgcHJlc3NlZFxuICAgICAgICAgICAgaWYgKGNsaWNrRXZlbnQud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgY2xpY2tFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGFkZFRvQ29sbGVjdGlvbihhcnIsIGNsaWNrRXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjbGlja0V2ZW50LnRhcmdldC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0U2VsZWN0ZWQoc2VsZWN0ZWQsIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBpZCA9IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgaW5kZXggPSBzZWxlY3RlZC5pbmRleE9mKGlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGZpZWxkbmFtZSA9IGVsZW1lbnQubmFtZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50LmZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdXBsb2FkLycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtmaWxldXBsb2FkOiBmaWxlfVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0LmZpbGVzW2ZpZWxkbmFtZV0ucHVzaChyZXNwb25zZS5kYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codm0ucmVwb3J0LmZpbGVzKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIFJlcG9ydENvbnRhaW5lckNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIlVzZXJEYXRhXCIsIFwiRGVwYXJ0bWVudFwiLCBcIlBhc3Nwb3J0XCIsIFwiVXBsb2FkXCIsIFwiU2VydmVyRGF0YVwiXTtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5yZXBvcnQnKVxuICAgICAgICAuY29udHJvbGxlcignUmVwb3J0Q29udGFpbmVyQ29udHJvbGxlcicsIFJlcG9ydENvbnRhaW5lckNvbnRyb2xsZXIpO1xuXG4gICAgZnVuY3Rpb24gUmVwb3J0Q29udGFpbmVyQ29udHJvbGxlcigkc2NvcGUsIFVzZXJEYXRhLCBEZXBhcnRtZW50LCBQYXNzcG9ydCwgVXBsb2FkLCBTZXJ2ZXJEYXRhKSB7XG4gICAgICAgICduZ0luamVjdCc7XG5cbiAgICAgICAgJHNjb3BlLnVwbG9hZCA9IHVwbG9hZDtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzLFxuICAgICAgICAgICAgcGFnZXMgPSBbXG4gICAgICAgICAgICAgICAgJ3JlcG9ydF9jb250YWluZXIvZGV2aWNlcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydF9jb250YWluZXIvcmVwb3J0X2luZm8udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXBvcnRfY29udGFpbmVyL29yZGVyLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncmVwb3J0X2NvbnRhaW5lci90ZWFtLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncmVwb3J0X2NvbnRhaW5lci9zaWduZXJzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncmVwb3J0X2NvbnRhaW5lci9zY2hlbWVzLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdyZXBvcnRfY29udGFpbmVyL2RldmljZV9sb2NhdGlvbi50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAnbWVhc3VyZXJzLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdyZXBvcnQvZGF0ZXMudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ2VuZ2luZXMudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ3JlcG9ydC9waG90b3MudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ3ZhbHVlcy50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAnZG9jcy50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAndGhlcm0udHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ3ZpYnJvLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdyZXNpc3RhbmNlLnRwbC5odG1sJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtZWFzdXJlcnMgPSB7XG4gICAgICAgICAgICAgICAgYWxsOiBEZXBhcnRtZW50Lm1lYXN1cmVycygpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBbXSxcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6ICduYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRldmljZXMgPSB7XG4gICAgICAgICAgICAgICAgYWxsOiBbXSxcbi8vICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4vLyAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnJyxcbi8vICAgICAgICAgICAgICAgICAgICAnc2VyaWFsX251bWJlcic6IDBcbi8vICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICAgICBzb3J0T3JkZXI6ICduYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRldmljZV9jb25kaXRpb25zID0gW1xuICAgICAgICAgICAgICAgICfRgNCw0LHQvtGC0L7RgdC/0L7RgdC+0LHQvdC+0LUnLFxuICAgICAgICAgICAgICAgICfQvdC10YDQsNCx0L7RgtC+0YHQv9C+0YHQvtCx0L3QvtC1JyxcbiAgICAgICAgICAgICAgICAn0L/RgNC10LTQtdC70YzQvdC+0LUnXG4gICAgICAgICAgICBdO1xuXG5cbi8vICAgICAgICB2bS5hZGRUb0NvbGxlY3Rpb24gPSBhZGRUb0NvbGxlY3Rpb247XG4gICAgICAgIHZtLmFsbEVtcGxveWVlcyA9IFtdO1xuLy8gICAgICAgIHZtLmNvbnRyb2xfdHlwZXMgPSBjb250cm9sX3R5cGVzO1xuICAgICAgICB2bS5kZXZpY2VfY29uZGl0aW9ucyA9IGRldmljZV9jb25kaXRpb25zO1xuICAgICAgICB2bS5jcmVhdGVQYXNzcG9ydCA9IGNyZWF0ZVBhc3Nwb3J0O1xuICAgICAgICB2bS5kZXZpY2VzID0gZGV2aWNlcztcbi8vICAgICAgICB2bS53b3JrQmVnaW4gPSB1bmRlZmluZWQ7XG4vLyAgICAgICAgdm0ud29ya0VuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdm0ubHB1cyA9IHt9O1xuICAgICAgICB2bS5vcmdzID0ge307XG4gICAgICAgIHZtLnBhZ2VzID0gcGFnZXM7XG4vLyAgICAgICAgdm0ucHJvY0tleVByZXNzID0gcHJvY0tleVByZXNzO1xuLy8gICAgICAgIHZtLnRjbGFzc2VzID0ge2FsbDogW10sIHNlbGVjdGVkOiAnJ307XG4gICAgICAgIHZtLmdldExQVXMgPSBnZXRMUFVzO1xuLy8gICAgICAgIHZtLm1lYXN1cmVycyA9IG1lYXN1cmVycztcbiAgICAgICAgdm0ucmVwb3J0ID0ge1xuICAgICAgICAgICAgdGVhbTogW10sXG4gICAgICAgICAgICBmaWxlczoge1xuICAgICAgICAgICAgICAgICdsZWdlbmQnOiBbXSxcbiAgICAgICAgICAgICAgICAnY29ucnRvbF9WSUsnOiBbXSxcbiAgICAgICAgICAgICAgICAnY29ucnRvbF9VS19jb250YWluZXInOiBbXSxcbiAgICAgICAgICAgICAgICAnY29ucnRvbF9VS19jb25uZWN0aW9ucyc6IFtdLFxuICAgICAgICAgICAgICAgICdjb25ydG9sX21hZ25pdCc6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZm86IHtcbiAgICAgICAgICAgICAgICAnaW5mb19pbnZlc3RpZ2F0aW9uJzogJ9Ct0LrRgdC/0LXRgNGC0LjQt9CwINC/0YDQvtC80YvRiNC70LXQvdC90L7QuSDQsdC10LfQvtC/0LDRgdC90L7RgdGC0Lgg0L/RgNC+0LLQvtC00LjRgtGB0Y8g0LLQv9C10YDQstGL0LUuICcgK1xuICAgICAgICAgICAgICAgICAgICAnXFxu0J3Qniwg0JLQniDigJMgMSDRgNCw0Lcg0LIgMiDQs9C+0LTQsCAo0L7RgtCy0LXRgtGB0YLQstC10L3QvdGL0Lkg0LfQsCDQvtGB0YPRidC10YHRgtCy0LvQtdC90LjQtSAnICsgXG4gICAgICAgICAgICAgICAgICAgICfQv9GA0L7QuNC30LLQvtC00YHRgtCy0LXQvdC90L7Qs9C+INC60L7QvdGC0YDQvtC70Y8g0LfQsCDRjdC60YHQv9C70YPQsNGC0LDRhtC40LXQuSDRgdC+0YHRg9C00LApLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcbtCd0J4sINCS0J4g4oCTIDEg0YDQsNC3INCyIDQg0LPQvtC00LAgKNGD0L/QvtC70L3QvtC80L7Rh9C10L3QvdCw0Y8g0YHQv9C10YbQuNCw0LvQuNC30LjRgNC+0LLQsNC90L3QsNGPINC+0YDQs9Cw0L3QuNC30LDRhtC40Y8sICcgK1xuICAgICAgICAgICAgICAgICAgICAn0L7RgtCy0LXRgtGB0YLQstC10L3QvdGL0Lkg0LfQsCDQvtGB0YPRidC10YHRgtCy0LvQtdC90LjQtSDQv9GA0L7QuNC30LLQvtC00YHRgtCy0LXQvdC90L7Qs9C+INC60L7QvdGC0YDQvtC70Y8g0LfQsCDRjdC60YHQv9C70YPQsNGC0LDRhtC40LXQuSDRgdC+0YHRg9C00LApLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcbtCT0Jgg4oCTIDEg0YDQsNC3INCyIDgg0LvQtdGCICjRg9C/0L7Qu9C90L7QvNC+0YfQtdC90L3QsNGPINGB0L/QtdGG0LjQsNC70LjQt9C40YDQvtCy0LDQvdC90LDRjyDQvtGA0LPQsNC90LjQt9Cw0YbQuNGPLCAnICsgXG4gICAgICAgICAgICAgICAgICAgICfQvtGC0LLQtdGC0YHRgtCy0LXQvdC90YvQuSDQt9CwINC+0YHRg9GJ0LXRgdGC0LLQu9C10L3QuNC1INC/0YDQvtC40LfQstC+0LTRgdGC0LLQtdC90L3QvtCz0L4g0LrQvtC90YLRgNC+0LvRjyDQt9CwINGN0LrRgdC/0LvRg9Cw0YLQsNGG0LjQtdC5INGB0L7RgdGD0LTQsCknLFxuICAgICAgICAgICAgICAgICdpbmZvX3JlcGFpcic6ICfQkiDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90L3QvtC5INGC0LXRhdC90LjRh9C10YHQutC+0Lkg0LTQvtC60YPQvNC10L3RgtCw0YbQuNC4INC90LUg0L7RgtC80LXRh9C10L3QvicsXG4gICAgICAgICAgICAgICAgJ2Rhbmdlcl9wbGFjZXMnOiAn0JzQtdGB0YLQsCDQutC+0L3RhtC10L3RgtGA0LDRhtC40Lkg0L3QsNC/0YDRj9C20LXQvdC40Lkg4oCTINC/0YDQvtC00L7Qu9GM0L3Ri9C1INC4INC60L7Qu9GM0YbQtdCy0YvQtSDRgdCy0LDRgNC90YvQtSDRiNCy0YssICcgKyBcbiAgICAgICAgICAgICAgICAgICAgJ9C80LXRgdGC0LAg0LLQstCw0YDQutC4INGI0YLRg9GG0LXRgNC+0LI7INC80LXRgdGC0LAg0L3QsNC40LHQvtC70LXQtSDQstC10YDQvtGP0YLQvdC+0LPQviDQutC+0YDRgNC+0LfQuNC+0L3QvdC+0LPQviDQuNC30L3QvtGB0LAg4oCTICcgKyBcbiAgICAgICAgICAgICAgICAgICAgJ9Cy0L3Rg9GC0YDQtdC90L3Rj9GPINC/0L7QstC10YDRhdC90L7RgdGC0Ywg0L3QuNC20L3QtdCz0L4g0LTQvdC40YnQsCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NoZW1lczoge1xuICAgICAgICAgICAgICAgICdWSUsnOiAn0KHRhdC10LzQsCDQv9GA0L7QstC10LTQtdC90LjRjyDQstC40LfRg9Cw0LvRjNC90L4t0LjQt9C80LXRgNC40YLQtdC70YzQvdC+0LPQviDQutC+0L3RgtGA0L7Qu9GPINGB0L7RgdGD0LTQsCcsXG4gICAgICAgICAgICAgICAgJ1VLX2NvbnRhaW5lcic6ICfQodGF0LXQvNCwINC/0YDQvtCy0LXQtNC10L3QuNGPINGD0LvRjNGC0YDQsNC30LLRg9C60L7QstC+0Lkg0YLQvtC70YnQuNC90L7QvNC10YLRgNC40Lgg0Lgg0YLQstC10YDQtNC+0LzQtdGC0YDQuNC4INGB0L7RgdGD0LTQsCcsXG4gICAgICAgICAgICAgICAgJ1VLX2Nvbm5lY3Rpb25zJzogJ9Ch0YXQtdC80LAg0L/RgNC+0LLQtdC00LXQvdC40Y8g0YPQu9GM0YLRgNCw0LfQstGD0LrQvtCy0L7Qs9C+INC60L7QvdGC0YDQvtC70Y8g0YHQstCw0YDQvdGL0YUg0YHQvtC10LTQuNC90LXQvdC40Lkg0YHQvtGB0YPQtNCwJyxcbiAgICAgICAgICAgICAgICAnbWFnbml0JzogJ9Ch0YXQtdC80LAg0L/RgNC+0LLQtdC00LXQvdC40Y8g0LzQsNCz0L3QuNGC0L7Qv9C+0YDQvtGI0LrQvtCy0L7Qs9C+INC60L7QvdGC0YDQvtC70Y8g0YHQvtGB0YPQtNCwJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4vLyAgICAgICAgICAgIHRlYW06IHVuZGVmaW5lZCxcbi8vICAgICAgICAgICAgbWVhc3VyZXJzOiBtZWFzdXJlcnMuc2VsZWN0ZWQsXG4vLyAgICAgICAgICAgIGZpbGVzOiB7XG4vLyAgICAgICAgICAgICAgICAnbWFpbic6IFtdLFxuLy8gICAgICAgICAgICAgICAgJ3RoZXJtMSc6IFtdLFxuLy8gICAgICAgICAgICAgICAgJ3RoZXJtMic6IFtdLFxuLy8gICAgICAgICAgICAgICAgJ2xpY2Vuc2VzJzogW11cbi8vICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgdGhlcm06IHt9LFxuLy8gICAgICAgICAgICB2aWJybzoge30sXG4vLyAgICAgICAgICAgIG9yZGVyOiB7fSxcbi8vICAgICAgICAgICAgcmVzaXN0YW5jZToge31cbi8vICAgICAgICB9O1xuICAgICAgICB2bS5zZXRTZWxlY3RlZCA9IHNldFNlbGVjdGVkO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICBnZXRDb250YWluZXJzKCk7XG4gICAgICAgICAgICBnZXRPcmdzKCk7XG4gICAgICAgICAgICBnZXRFbXBsb3llZXMoKTtcbi8vICAgICAgICAgICAgdm0ucmVwb3J0LmluZm8gPSB7XG4vLyAgICAgICAgICAgICAgICBsaWNlbnNlOiAn0JTQvtCz0L7QstC+0YAg4oSWICAgICAgICAgINC+0YIgICAgICAgICAg0L3QsCDQstGL0L/QvtC70L3QtdC90LjQtSDRgNCw0LHQvtGCINC/0L4g0Y3QutGB0L/QtdGA0YLQuNC30LUg0L/RgNC+0LzRi9GI0LvQtdC90L3QvtC5INCx0LXQt9C+0L/QsNGB0L3QvtGB0YLQuC4nXG4vLyAgICAgICAgICAgIH07XG4vLyAgICAgICAgICAgIHZtLnJlcG9ydC50ZWFtID0ge307XG4vLyAgICAgICAgICAgIHZtLnJlcG9ydC5kb2NzID0gW107XG4vLyAgICAgICAgICAgIHZtLnJlcG9ydC5vYmpfZGF0YSA9IHtcbi8vICAgICAgICAgICAgICAgIGRldGFpbF9pbmZvOiBbXVxuLy8gICAgICAgICAgICB9O1xuLy9cbi8vICAgICAgICAgICAgZ2V0RW5naW5lcygpO1xuLy8gICAgICAgICAgICBnZXRUQ2xhc3NlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9Db2xsZWN0aW9uKGFyciwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIFRlc3QgZm9yIGFic2VuY2Ugb2YgYSBuZXcgdmFsdWUgaW4gYXJyYXkgXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmIGFyci5pbmRleE9mKHZhbHVlKSA9PT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGFzc3BvcnQoKSB7XG4vLy8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvY3MgJyArIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydC5kb2NzKSk7XG4vLy8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2ludmVzdGlnYXRpb25EYXRlICcgKyB2bS5pbnZlc3RpZ2F0aW9uRGF0ZS50b0xvY2FsZVN0cmluZygpKTtcbi8vLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVnaW4gJyArIHZtLndvcmtCZWdpbik7XG4vLy8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZCAnICsgdm0ud29ya0VuZC50b0xvY2FsZVN0cmluZygpKTtcbi8vLy8gICAgICAgICAgICBQYXNzcG9ydC5jcmVhdGVQYXNzcG9ydCh2bS53b3JrQmVnaW4pO1xuICAgICAgICAgICAgdm0ucmVwb3J0LnR5cGUgPSAncmVwb3J0LWNvbnRhaW5lcic7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVwb3J0OicsIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydCkpO1xuLy8vLyAgICAgICAgICAgIHJldHVybjtcbi8vLy8gICAgICAgICAgICBjb25zb2xlLmRpcigndm0udGNsYXNzZXMuYWxsOiAnICsgSlNPTi5zdHJpbmdpZnkodm0udGNsYXNzZXMuYWxsKSk7XG4vLyAgICAgICAgICAgIHZtLnJlcG9ydC50aGVybS50Y2xhc3MgPSB2bS50Y2xhc3Nlcy5hbGwuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4vLyAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gdm0udGNsYXNzZXMuc2VsZWN0ZWQ7XG4vLyAgICAgICAgICAgIH0pWzBdLmlkO1xuLy8vLyAgICAgICAgICAgIGNvbnNvbGUuZGlyKCdzZWxlY3RlZCBjbGFzczogJyArIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydC50aGVybSkpO1xuLy8gICAgICAgICAgICBQYXNzcG9ydC5jcmVhdGVQYXNzcG9ydCh2bS5yZXBvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RW1wbG95ZWVzKCkge1xuICAgICAgICAgICAgVXNlckRhdGEuZ2V0QWxsVXNlcnMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWxsRW1wbG95ZWVzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbnRhaW5lcnMoKSB7XG4gICAgICAgICAgICBTZXJ2ZXJEYXRhLnF1ZXJ5KHtjYXRlZ29yeTogJ2NvbnRhaW5lcid9LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdm0uZGV2aWNlcy5hbGwgPSBkYXRhO1xuLy8gICAgICAgICAgICAgICAgdm0uZGV2aWNlcy5hbGwgPSBkYXRhLm1hcChmdW5jdGlvbihlbCkge1xuLy8gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbi8vICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBnZXRPcmdzKCkge1xuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0T3JncygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5vcmdzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldExQVXMob3JnTmFtZSkge1xuICAgICAgICAgICAgdmFyIG9yZ2FuID0gdm0ub3Jncy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gb3JnTmFtZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQYXNzcG9ydC5nZXRMUFVzKG9yZ2FuWzBdLmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ubHB1cyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbi8vXG4vLyAgICAgICAgZnVuY3Rpb24gZ2V0VENsYXNzZXMoKSB7XG4vLyAgICAgICAgICAgIFBhc3Nwb3J0LmdldFRDbGFzc2VzKClcbi8vICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbi8vICAgICAgICAgICAgICAgICAgICB2bS50Y2xhc3Nlcy5hbGwgPSBkYXRhO1xuLy8gICAgICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgfVxuLy9cbi8vICAgICAgICBmdW5jdGlvbiBwcm9jS2V5UHJlc3MoY2xpY2tFdmVudCwgYXJyKSB7XG4vLyAgICAgICAgICAgIC8vIENoZWNrIGZvciBSZXR1cm4gKEVudGVyKSBrZXkgcHJlc3NlZFxuLy8gICAgICAgICAgICBpZiAoY2xpY2tFdmVudC53aGljaCA9PT0gMTMpIHtcbi8vICAgICAgICAgICAgICAgIGNsaWNrRXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgICAgICAgIGFkZFRvQ29sbGVjdGlvbihhcnIsIGNsaWNrRXZlbnQudGFyZ2V0LnZhbHVlKTtcbi8vICAgICAgICAgICAgICAgIGNsaWNrRXZlbnQudGFyZ2V0LnZhbHVlID0gJyc7XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0U2VsZWN0ZWQoc2VsZWN0ZWQsIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBpZCA9IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgaW5kZXggPSBzZWxlY3RlZC5pbmRleE9mKGlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGZpZWxkbmFtZSA9IGVsZW1lbnQubmFtZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50LmZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdXBsb2FkLycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtmaWxldXBsb2FkOiBmaWxlfVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0LmZpbGVzW2ZpZWxkbmFtZV0ucHVzaChyZXNwb25zZS5kYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codm0ucmVwb3J0LmZpbGVzKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5kZXBhcnRtZW50JylcbiAgICAgICAgLmZhY3RvcnkoJ0RlcGFydG1lbnQnLCBEZXBhcnRtZW50KTtcblxuICAgIERlcGFydG1lbnQuJGluamVjdCA9IFsnJHJlc291cmNlJ107XG5cbiAgICBmdW5jdGlvbiBEZXBhcnRtZW50KCRyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKCcvYXBpL2RlcGFydG1lbnQvOmRlcElkLycsIHt9LCB7XG4gICAgICAgICAgICBtZWFzdXJlcnM6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICAgICAgICAgIGlzQXJyYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7ZGVwSWQ6IDF9LFxuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvZGVwYXJ0bWVudC86ZGVwSWQvbWVhc3VyZXIvJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwJylcbiAgICAgICAgLnJ1bihbJyRodHRwJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSAnWC1DU1JGVG9rZW4nO1xuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLnhzcmZDb29raWVOYW1lID0gJ2NzcmZ0b2tlbic7XG4gICAgICAgIH1dKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5sb2dpbicpXG4gICAgICAgIC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xuXG4gICAgZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICduZ0luamVjdCc7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0ubG9naW4gPSBsb2dpbjtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ2luKCkge1xuICAgICAgICAgICAgQXV0aGVudGljYXRpb24ubG9naW4odm0uZW1haWwsIHZtLnBhc3N3b3JkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgaWYgKEF1dGhlbnRpY2F0aW9uLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubWFpbicpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKTtcblxuICAgIE1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ0F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdDb29raWVzJywgJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIE1haW5Db250cm9sbGVyKEF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24sIENvb2tpZXMsICRyb290U2NvcGUpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0ubWVudSA9IFtdO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIGlmICghQXV0aGVudGljYXRpb24uaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignY29ra2llc1NldCcsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2bS5tZW51ID0gW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dXBNZW51KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNldHVwTWVudSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0dXBNZW51KCkge1xuICAgICAgICAgICAgICAgIHZtLm1lbnUgPSBbe25hbWU6ICfQn9GA0L7RhNC40LvRjCcsIGxpbms6ICfQn9GA0L7RhNC40LvRjCcsIHJlZjogJ3Byb2ZpbGUnfV07XG5cbiAgICAgICAgICAgICAgICB2YXIgY29va2llcyA9IENvb2tpZXMuZ2V0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvb2tpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwb3J0X3R5cGVzID0gY29va2llcy5kZXBhcnRtZW50LnJlcG9ydF90eXBlcztcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlcG9ydF90eXBlcywgZnVuY3Rpb24ocmVwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5tZW51LnB1c2goe25hbWU6IHJlcG9ydC5uYW1lLCBsaW5rOiByZXBvcnQubmFtZSwgcmVmOiByZXBvcnQudXJsfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uLmlzQXV0aGVudGljYXRlZCgpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucmVnaXN0ZXInKVxuICAgICAgICAuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcblxuICAgIFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydBdXRoZW50aWNhdGlvbicsICdEZXBhcnRtZW50J107XG5cbiAgICBmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIoQXV0aGVudGljYXRpb24sIERlcGFydG1lbnQpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5sb2FkRGVwYXJ0bWVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIERlcGFydG1lbnQucXVlcnkoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZtLmFsbERlcHMgPSBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0ucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEF1dGhlbnRpY2F0aW9uLnJlZ2lzdGVyKHZtLmVtYWlsLCB2bS5wYXNzd29yZCwgdm0uZGVwYXJ0bWVudC5pZClcbiAgICAgICAgICAgICAgICAudGhlbihyZWdpc3RlclN1Y2Nlc3MsIHJlZ2lzdGVyRmFpbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIHZtLmxvYWREZXBhcnRtZW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKCkge1xuICAgICAgICAgICAgQXV0aGVudGljYXRpb24ubG9naW4odm0uZW1haWwsIHZtLnBhc3N3b3JkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbCgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWdpc3RyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuY29uZmlnJylcbiAgICAgICAgLmNvbmZpZyhjb25maWcpXG4gICAgICAgIC5ydW4ocnVuKTtcblxuICAgIGNvbmZpZy4kaW5qZWN0ID0gW1xuICAgICAgICAnJHN0YXRlUHJvdmlkZXInLFxuICAgICAgICAnJHVybFJvdXRlclByb3ZpZGVyJyxcbiAgICAgICAgJyRyZXNvdXJjZVByb3ZpZGVyJyxcbiAgICAgICAgJyRsb2NhdGlvblByb3ZpZGVyJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJHJlc291cmNlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnLydcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2xvZ2luJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9zcmMvYXBwL3VzZXIvbG9naW4udHBsLmh0bWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlcicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC91c2VyL3JlZ2lzdGVyLnRwbC5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZScsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJEYXRhQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9zcmMvYXBwL3VzZXIvcHJvZmlsZS50cGwuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3VwbG9hZCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdXBsb2FkJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVXBsb2FkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9zcmMvYXBwL2ZpbGVzdG9yYWdlL3VwbG9hZC50cGwuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3Bhc3Nwb3J0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJy9wYXNzcG9ydCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Bhc3Nwb3J0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9zcmMvYXBwL3JlcG9ydC9wYXNzcG9ydC50cGwuaHRtbCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3JlcG9ydCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVwb3J0JyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUmVwb3J0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy9zcmMvYXBwL3JlcG9ydC9yZXBvcnQvcmVwb3J0LnRwbC5odG1sJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgncmVwb3J0LWNvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVwb3J0LWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1JlcG9ydENvbnRhaW5lckNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC9yZXBvcnQvcmVwb3J0X2NvbnRhaW5lci9yZXBvcnQudHBsLmh0bWwnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvbG9naW4nKTtcblxuICAgICAgICAkcmVzb3VyY2VQcm92aWRlci5kZWZhdWx0cy5zdHJpcFRyYWlsaW5nU2xhc2hlcyA9IGZhbHNlO1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnIScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgICAgdmFyIGRvYyA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCk7XG4gICAgICAgIGRvYy5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuYXZiYXIgPSBkb2MuZmluZCgnLm5hdmJhci1jb2xsYXBzZScpLFxuICAgICAgICAgICAgICAgIG9wZW5lZCA9IG5hdmJhci5oYXNDbGFzcygnaW4nKTtcbiAgICAgICAgICAgIGlmIChvcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBuYXZiYXIuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50b29sYmFyJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Rvb2xiYXJDb250cm9sbGVyJywgVG9vbGJhckNvbnRyb2xsZXIpO1xuXG4gICAgVG9vbGJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnQXV0aGVudGljYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIFRvb2xiYXJDb250cm9sbGVyKEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBdXRoZW50aWNhdGlvbi5sb2dvdXQoKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnVwbG9hZCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdVcGxvYWRDb250cm9sbGVyJywgVXBsb2FkQ29udHJvbGxlcik7XG5cbiAgICBVcGxvYWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdVcGxvYWQnLCAnVXBsb2FkU2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gVXBsb2FkQ29udHJvbGxlcigkc2NvcGUsIFVwbG9hZCwgVXBsb2FkU2VydmljZSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgICRzY29wZS5maWxlU2VsZWN0ZWQgPSBmaWxlU2VsZWN0ZWQ7XG5cbiAgICAgICAgdm0uZmlsZXMgPSBbXTtcbiAgICAgICAgdm0udXBsb2FkID0gdXBsb2FkO1xuICAgICAgICB2bS51cGxvYWRlZEZpbGVzID0gW107XG4gICAgICAgIHZtLnJlbW92ZSA9IHJlbW92ZTtcbiAgICAgICAgdm0uc2VsZWN0ZWQgPSBbXTtcbiAgICAgICAgdm0uc29ydE9yZGVyID0gJy11cGxvYWRlZF9hdCc7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIGdldFVwbG9hZGVkRmlsZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpbGVTZWxlY3RlZChlbGVtZW50KSB7XG4gICAgICAgICAgICB1cGxvYWQoZWxlbWVudC5maWxlcyk7XG4gICAgICAgICAgICBnZXRVcGxvYWRlZEZpbGVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZmlsZXMpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChmaWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZC8nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZmlsZXVwbG9hZDogZmlsZX1cbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRVcGxvYWRlZEZpbGVzKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igc3RhdHVzOiAnICsgcmVzcC5zdGF0dXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRVcGxvYWRlZEZpbGVzKCkge1xuICAgICAgICAgICAgVXBsb2FkU2VydmljZS5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICB2bS51cGxvYWRlZEZpbGVzID0gcmVzcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5zZWxlY3RlZCwgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIFVwbG9hZFNlcnZpY2UucmVtb3ZlKGZpbGUuaWQpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUZpbGVFbnRyeShmaWxlLmlkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2bS5zZWxlY3RlZCA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRmlsZUVudHJ5KGlkKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkZWRGaWxlcywgZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgICAgICAgIGlmICh2bS51cGxvYWRlZEZpbGVzW2tdLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICB2bS51cGxvYWRlZEZpbGVzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXBsb2FkLnNlcnZpY2UnKVxuICAgICAgICAuZmFjdG9yeSgnVXBsb2FkU2VydmljZScsIFVwbG9hZFNlcnZpY2UpO1xuXG4gICAgVXBsb2FkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuICAgIGZ1bmN0aW9uIFVwbG9hZFNlcnZpY2UoJGh0dHApIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICByZW1vdmU6IHJlbW92ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHF1ZXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9maWxlLycpLlxuICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcC5kYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL2ZpbGUvJyArIGlkICsgJy8nKS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2F1dG9mb2N1cycsIEF1dG9mb2N1c0RpcmVjdGl2ZSk7XG5cbiAgICBBdXRvZm9jdXNEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRpbWVvdXQnXVxuICAgIGZ1bmN0aW9uIEF1dG9mb2N1c0RpcmVjdGl2ZSgkdGltZW91dCkge1xuXHRyZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgIGxpbmsgOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50KSB7XG5cdFx0ICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdCAgICAkZWxlbWVudC5mb2N1cygpO1xuXHRcdH0pO1xuXHQgICAgfVxuXHR9XG4gICAgfVxufSkoKTtcblxuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucGFzc3BvcnQnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjaGVja21hcmsnLCBDaGVja21hcmtEaXJlY3RpdmUpO1xuXG4gICAgZnVuY3Rpb24gQ2hlY2ttYXJrRGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVxdWlyZTogJ15mb3JtJyxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGZvcm1Db250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1Db250cm9sbGVyLiRuYW1lID09PSAndm0uZG9jc0Zvcm0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3dDaGVja21hcmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmb3JtQ29udHJvbGxlci4kbmFtZSArICcuJHZhbGlkJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93Q2hlY2ttYXJrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3dDaGVja21hcmsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPHNwYW4gbmctaWY9XCJzaG93Q2hlY2ttYXJrXCI+JyArXG4gICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiaWNvbiBpb24tY2hlY2ttYXJrXCIgc3R5bGU9XCJjb2xvcjogIzAwZTY3NlwiPjwvaT4mbmJzcDsnICtcbiAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICc8c3BhbiBuZy10cmFuc2NsdWRlPjwvc3Bhbj4nXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5wYXNzcG9ydCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdQYXNzcG9ydENvbnRyb2xsZXInLCBQYXNzcG9ydENvbnRyb2xsZXIpO1xuXG4gICAgUGFzc3BvcnRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnVXNlckRhdGEnLCAnRGVwYXJ0bWVudCcsICdFbmdpbmUnLCAnUGFzc3BvcnQnLCAnVXBsb2FkJ107XG4gICAgZnVuY3Rpb24gUGFzc3BvcnRDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBVc2VyRGF0YSwgRGVwYXJ0bWVudCwgRW5naW5lLCBQYXNzcG9ydCwgVXBsb2FkKSB7XG5cbiAgICAgICAgJHNjb3BlLnVwbG9hZCA9IHVwbG9hZDtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzLFxuICAgICAgICAgICAgZG9jcyA9IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogJ9CW0YPRgNC90LDQuyDRgNC10LzQvtC90YLQsCDRjdC70LXQutGC0YDQvtC00LLQuNCz0LDRgtC10LvRjycsIHZhbHVlOiB0cnVlfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ9CW0YPRgNC90LDQuyDRjdC60YHQv9C70YPQsNGC0LDRhtC40Lgg0Y3Qu9C10LrRgtGA0L7QtNCy0LjQs9Cw0YLQtdC70Y8nLCB2YWx1ZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAge25hbWU6ICfQmNC90YHRgtGA0YPQutGG0LjRjyDQv9C+INGN0LrRgdC/0LvRg9Cw0YLQsNGG0LjQuCDQt9Cw0LLQvtC00LAt0LjQt9Cz0L7RgtC+0LLQuNGC0LXQu9GPJywgdmFsdWU6IHRydWV9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAn0J/RgNC+0YLQvtC60L7Qu9GLINGI0YLQsNGC0L3Ri9GFINC40LfQvNC10YDQtdC90LjQuSDQuCDQuNGB0L/Ri9GC0LDQvdC40LknLCB2YWx1ZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAge25hbWU6ICfQn9Cw0YHQv9C+0YDRgiDQt9Cw0LLQvtC00LAt0LjQt9Cz0L7RgtC+0LLQuNGC0LXQu9GPINC90LAg0LLQt9GA0YvQstC+0LfQsNGJ0LjRidC10L3QvdGL0Lkg0Y3Qu9C10LrRgtGA0L7QtNCy0LjQs9Cw0YLQtdC70YwnLCB2YWx1ZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAge25hbWU6ICfQodGF0LXQvNCwINGN0LvQtdC60YLRgNC+0YHQvdCw0LHQttC10L3QuNGPINGN0LvQtdC60YLRgNC+0LTQstC40LPQsNGC0LXQu9GPJywgdmFsdWU6IHRydWV9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcGFnZXMgPSBbXG4gICAgICAgICAgICAgICAgJ3RlYW0udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdtZWFzdXJlcnMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdscHUudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdkYXRlcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ2VuZ2luZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICd2YWx1ZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdkb2NzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncGhvdG9zLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAndGhlcm0udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICd2aWJyby50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3Jlc2lzdGFuY2UudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdzaWduZXJzLnRwbC5odG1sJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJhbmtzID0gW1xuICAgICAgICAgICAgICAgICfRgNGD0LrQvtCy0L7QtNC40YLQtdC70Ywg0LHRgNC40LPQsNC00YsnLFxuICAgICAgICAgICAgICAgICfQt9Cw0LwuINGA0YPQutC+0LLQvtC00LjRgtC10LvRjyDQsdGA0LjQs9Cw0LTRiycsXG4gICAgICAgICAgICAgICAgJ9GH0LvQtdC9INCx0YDQuNCz0LDQtNGLJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1lYXN1cmVycyA9IHtcbiAgICAgICAgICAgICAgICBhbGw6IERlcGFydG1lbnQubWVhc3VyZXJzKCksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IFtdLFxuICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogJ25hbWUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5naW5lID0ge1xuICAgICAgICAgICAgICAgIGFsbDogW10sXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NlcmlhbF9udW1iZXInOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6ICduYW1lJ1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIHZtLmFkZEVtcGxveWVlID0gYWRkRW1wbG95ZWU7XG4gICAgICAgIHZtLmFsbEVtcGxveWVlcyA9IFtdO1xuICAgICAgICB2bS5jcmVhdGVQYXNzcG9ydCA9IGNyZWF0ZVBhc3Nwb3J0O1xuICAgICAgICB2bS5lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHZtLndvcmtCZWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdm0ud29ya0VuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdm0uaW52ZXN0aWdhdGlvbkRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLmxwdXMgPSB7fTtcbiAgICAgICAgdm0ub3JncyA9IHt9O1xuICAgICAgICB2bS5wYWdlcyA9IHBhZ2VzO1xuICAgICAgICB2bS50Y2xhc3NlcyA9IHthbGw6IFtdLCBzZWxlY3RlZDogJyd9O1xuICAgICAgICB2bS5nZXRMUFVzID0gZ2V0TFBVcztcbiAgICAgICAgdm0ubWVhc3VyZXJzID0gbWVhc3VyZXJzO1xuICAgICAgICB2bS5yYW5rcyA9IHJhbmtzO1xuICAgICAgICB2bS5yZXBvcnQgPSB7XG4gICAgICAgICAgICB0ZWFtOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtZWFzdXJlcnM6IG1lYXN1cmVycy5zZWxlY3RlZCxcbiAgICAgICAgICAgIGZpbGVzOiB7fSxcbiAgICAgICAgICAgIHRoZXJtOiB7fSxcbiAgICAgICAgICAgIHZpYnJvOiB7fSxcbiAgICAgICAgICAgIG9yZGVyOiB7fSxcbiAgICAgICAgICAgIHJlc2lzdGFuY2U6IHt9XG4gICAgICAgIH07XG4gICAgICAgIHZtLnNldFNlbGVjdGVkID0gc2V0U2VsZWN0ZWQ7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiB1cGxvYWQoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGZpZWxkbmFtZSA9IGVsZW1lbnQubmFtZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50LmZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdXBsb2FkLycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtmaWxldXBsb2FkOiBmaWxlfVxuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVwb3J0LmZpbGVzW2ZpZWxkbmFtZV0gPSByZXNwb25zZS5kYXRhLmlkO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBzdGF0dXM6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50ZWFtID0gW3snbmFtZSc6ICcnLCAncmVxdWlyZWQnOiB0cnVlfV07XG4gICAgICAgICAgICB2bS5yZXBvcnQuZG9jcyA9IGRvY3M7XG4gICAgICAgICAgICBnZXRFbXBsb3llZXMoKTtcbiAgICAgICAgICAgIGdldEVuZ2luZXMoKTtcbiAgICAgICAgICAgIGdldE9yZ3MoKTtcbiAgICAgICAgICAgIGdldFRDbGFzc2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRFbXBsb3llZSgpIHtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50ZWFtLnB1c2goe1xuICAgICAgICAgICAgICAgICduYW1lJzogJycsICdyZXF1aXJlZCc6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3RlYW06ICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQudGVhbSkpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBhc3Nwb3J0KCkge1xuXG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb2NzICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQuZG9jcykpO1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnaW52ZXN0aWdhdGlvbkRhdGUgJyArIHZtLmludmVzdGlnYXRpb25EYXRlLnRvTG9jYWxlU3RyaW5nKCkpO1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVnaW4gJyArIHZtLndvcmtCZWdpbik7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgJyArIHZtLndvcmtFbmQudG9Mb2NhbGVTdHJpbmcoKSk7XG4vLyAgICAgICAgICAgIFBhc3Nwb3J0LmNyZWF0ZVBhc3Nwb3J0KHZtLndvcmtCZWdpbik7XG4gICAgICAgICAgICB2bS5yZXBvcnQudHlwZSA9ICdwYXNzcG9ydCc7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGVhbTonLCBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQpKTtcbi8vICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVsZXRlIHZtLnJlcG9ydC50ZWFtWzBdLnJlcXVpcmVkO1xuLy8gICAgICAgICAgICBjb25zb2xlLmRpcigndm0udGNsYXNzZXMuYWxsOiAnICsgSlNPTi5zdHJpbmdpZnkodm0udGNsYXNzZXMuYWxsKSk7XG4gICAgICAgICAgICB2bS5yZXBvcnQudGhlcm0udGNsYXNzID0gdm0udGNsYXNzZXMuYWxsLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5uYW1lID09PSB2bS50Y2xhc3Nlcy5zZWxlY3RlZDtcbiAgICAgICAgICAgIH0pWzBdLmlkO1xuLy8gICAgICAgICAgICBjb25zb2xlLmRpcignc2VsZWN0ZWQgY2xhc3M6ICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQudGhlcm0pKTtcbiAgICAgICAgICAgIFBhc3Nwb3J0LmNyZWF0ZVBhc3Nwb3J0KHZtLnJlcG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFbXBsb3llZXMoKSB7XG4gICAgICAgICAgICBVc2VyRGF0YS5nZXRBbGxVc2VycygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5hbGxFbXBsb3llZXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICBmdW5jdGlvbiBnZXRFbmdpbmVzKCkge1xuICAgICAgICAgICAgRW5naW5lLmdldEFsbEVuZ2luZXMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uZW5naW5lLmFsbCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRPcmdzKCkge1xuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0T3JncygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5vcmdzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldExQVXMob3JnTmFtZSkge1xuICAgICAgICAgICAgdmFyIG9yZ2FuID0gdm0ub3Jncy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gb3JnTmFtZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQYXNzcG9ydC5nZXRMUFVzKG9yZ2FuWzBdLmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ubHB1cyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUQ2xhc3NlcygpIHtcbiAgICAgICAgICAgIFBhc3Nwb3J0LmdldFRDbGFzc2VzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnRjbGFzc2VzLmFsbCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRTZWxlY3RlZChzZWxlY3RlZCwgaXRlbSkge1xuICAgICAgICAgICAgdmFyIGlkID0gaXRlbS5pZCxcbiAgICAgICAgICAgICAgICBpbmRleCA9IHNlbGVjdGVkLmluZGV4T2YoaWQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFzc3BvcnQuc2VydmljZScpXG4gICAgICAgIC5mYWN0b3J5KCdQYXNzcG9ydCcsIFBhc3Nwb3J0KTtcblxuICAgIFBhc3Nwb3J0LiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBQYXNzcG9ydCgkaHR0cCkge1xuICAgICAgICB2YXIgcGFzc3BvcnQgPSB7XG4gICAgICAgICAgICBjcmVhdGVQYXNzcG9ydDogY3JlYXRlUGFzc3BvcnQsXG4gICAgICAgICAgICBnZXRMUFVzOiBnZXRMUFVzLFxuICAgICAgICAgICAgZ2V0T3JnczogZ2V0T3JncyxcbiAgICAgICAgICAgIGdldFRDbGFzc2VzOiBnZXRUQ2xhc3Nlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBwYXNzcG9ydDtcblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXNzcG9ydChyZXBvcnRfZGF0YSkge1xuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3JlcG9ydC8nLFxuICAgICAgICAgICAgICAgICAgICB7J3JlcG9ydF9kYXRhJzogcmVwb3J0X2RhdGF9LFxuICAgICAgICAgICAgICAgICAgICB7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ31cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiAnYXBwbGljYXRpb24vcGRmJ30pO1xuICAgICAgICAgICAgICAgICAgICBzYXZlQXMoZmlsZSwgJ3JlcG9ydC5wZGYnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMUFVzKG9yZ0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29yZ2FuaXphdGlvbi8nICsgb3JnSWQgKyAnL2xwdS8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE9yZ3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29yZ2FuaXphdGlvbi8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRDbGFzc2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS90Y2xhc3MvJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucGFzc3BvcnQnKVxuICAgICAgICAuZGlyZWN0aXZlKCd2YWxpZEZpbGUnLCBWYWxpZEZpbGVEaXJlY3RpdmUpO1xuXG4vLyAgICBWYWxpZEZpbGVEaXJlY3RpdmUuJGluamVjdCA9IFsnVXBsb2FkJ107XG4vL1xuLy8gICAgZnVuY3Rpb24gVmFsaWRGaWxlRGlyZWN0aXZlKFVwbG9hZCkge1xuLy8gICAgICAgIGZ1bmN0aW9uIHVwbG9hZChmaWxlKSB7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGxvYWRpbmcgZmlsZSAnICsgZmlsZSk7XG4vLyAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuLy8gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS91cGxvYWQvJyxcbi8vICAgICAgICAgICAgICAgIGRhdGE6IHtmaWxldXBsb2FkOiBmaWxlfVxuLy8gICAgICAgICAgICB9KS5cbi8vICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuLy8gICAgICAgICAgICAgICAgdm0ucmVwb3J0LmZpbGVzW2ZpZWxkbmFtZV0gPSByZXNwb25zZS5kYXRhLmlkO1xuLy8gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cyk7XG4vLyAgICAgICAgICAgIH0pO1xuLy8gICAgICAgIH1cblxuICAgIGZ1bmN0aW9uIFZhbGlkRmlsZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycywgbmdNb2RlbCl7XG4gICAgICAgICAgICAgICAgZWwuYmluZCgnY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZWwudmFsKCkpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmlsZW5hbWUgJyArIGVsLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQoc2NvcGUuaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuc2VydmVyZGF0YScpXG4gICAgICAgIC5mYWN0b3J5KCdTZXJ2ZXJEYXRhJywgU2VydmVyRGF0YSk7XG5cbiAgICBTZXJ2ZXJEYXRhLiRpbmplY3QgPSBbJyRyZXNvdXJjZSddO1xuXG4gICAgZnVuY3Rpb24gU2VydmVyRGF0YSgkcmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnL2FwaS86Y2F0ZWdvcnkvJyk7XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmRhdGVwaWNrZXInKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZXBpY2tlckNvbnRyb2xsZXInLCBEYXRlcGlja2VyQ29udHJvbGxlcik7XG5cbiAgICBEYXRlcGlja2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyd1aWJEYXRlcGlja2VyUG9wdXBDb25maWcnXTtcblxuICAgIGZ1bmN0aW9uIERhdGVwaWNrZXJDb250cm9sbGVyKHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZykge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZVRleHQgPSAn0JfQsNC60YDRi9GC0YwnO1xuICAgICAgICB1aWJEYXRlcGlja2VyUG9wdXBDb25maWcuY3VycmVudFRleHQgPSAn0KHQtdCz0L7QtNC90Y8nO1xuICAgICAgICB1aWJEYXRlcGlja2VyUG9wdXBDb25maWcuY2xlYXJUZXh0ID0gJ9Ce0YfQuNGB0YLQuNGC0YwnO1xuLy8gICAgICAgIHVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZy5odG1sNVR5cGVzID0gJ2RhdGV0aW1lLWxvY2FsJztcblxuXG4gICAgICAgIHZtLmRhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDFcbiAgICAgICAgfTtcblxuICAgICAgICB2bS55ZWFyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRhdGVwaWNrZXJNb2RlOiAneWVhcicsXG4gICAgICAgICAgICBtYXhNb2RlOiAneWVhcicsXG4gICAgICAgICAgICBtaW5Nb2RlOiAneWVhcicsXG4gICAgICAgICAgICBmb3JtYXRZZWFyOiAneXl5eSdcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdm0ucG9wdXAub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5wb3B1cCA9IHtcbiAgICAgICAgICBvcGVuZWQ6IGZhbHNlXG4gICAgICAgIH07XG5cbi8vICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuLy8gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4vLyAgICAgICAgdmFyIGFmdGVyVG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuLy8gICAgICAgIGFmdGVyVG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTtcbi8vICAgICAgICB2bS5ldmVudHMgPSBbXG4vLyAgICAgICAgICB7XG4vLyAgICAgICAgICAgIGRhdGU6IHRvbW9ycm93LFxuLy8gICAgICAgICAgICBzdGF0dXM6ICdmdWxsJ1xuLy8gICAgICAgICAgfSxcbi8vICAgICAgICAgIHtcbi8vICAgICAgICAgICAgZGF0ZTogYWZ0ZXJUb21vcnJvdyxcbi8vICAgICAgICAgICAgc3RhdHVzOiAncGFydGlhbGx5J1xuLy8gICAgICAgICAgfVxuLy8gICAgICAgIF07XG4vL1xuLy8gICAgICAgIGZ1bmN0aW9uIGdldERheUNsYXNzKGRhdGEpIHtcbi8vICAgICAgICAgIHZhciBkYXRlID0gZGF0YS5kYXRlLFxuLy8gICAgICAgICAgICBtb2RlID0gZGF0YS5tb2RlO1xuLy8gICAgICAgICAgaWYgKG1vZGUgPT09ICdkYXknKSB7XG4vLyAgICAgICAgICAgIHZhciBkYXlUb0NoZWNrID0gbmV3IERhdGUoZGF0ZSkuc2V0SG91cnMoMCwwLDAsMCk7XG4vL1xuLy8gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmV2ZW50cy5sZW5ndGg7IGkrKykge1xuLy8gICAgICAgICAgICAgIHZhciBjdXJyZW50RGF5ID0gbmV3IERhdGUodm0uZXZlbnRzW2ldLmRhdGUpLnNldEhvdXJzKDAsMCwwLDApO1xuLy9cbi8vICAgICAgICAgICAgICBpZiAoZGF5VG9DaGVjayA9PT0gY3VycmVudERheSkge1xuLy8gICAgICAgICAgICAgICAgcmV0dXJuIHZtLmV2ZW50c1tpXS5zdGF0dXM7XG4vLyAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgICB9XG4vL1xuLy8gICAgICAgICAgcmV0dXJuICcnO1xuLy8gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXNlcmRhdGEuY29udHJvbGxlcicpXG4gICAgICAgIC5jb250cm9sbGVyKCdVc2VyRGF0YUNvbnRyb2xsZXInLCBVc2VyRGF0YUNvbnRyb2xsZXIpO1xuXG4gICAgVXNlckRhdGFDb250cm9sbGVyLiRpbmplY3QgPSBbJ1VzZXJEYXRhJ107XG5cbiAgICBmdW5jdGlvbiBVc2VyRGF0YUNvbnRyb2xsZXIoVXNlckRhdGEpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS51cGRhdGVQcm9maWxlID0gdXBkYXRlUHJvZmlsZTtcbiAgICAgICAgdm0udXNlcmRhdGEgPSBVc2VyRGF0YTtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgVXNlckRhdGEuZ2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKCkge1xuICAgICAgICAgICAgVXNlckRhdGEudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnVzZXJkYXRhLnNlcnZpY2UnKVxuICAgICAgICAuZmFjdG9yeSgnVXNlckRhdGEnLCBVc2VyRGF0YSk7XG5cbiAgICBVc2VyRGF0YS4kaW5qZWN0ID0gWydDb29raWVzJywgJyRodHRwJywgJyRxJywgJyR0aW1lb3V0J107XG5cbiAgICBmdW5jdGlvbiBVc2VyRGF0YShDb29raWVzLCAkaHR0cCwgJHEsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogJycsXG4gICAgICAgICAgICBsYXN0X25hbWU6ICcnLFxuICAgICAgICAgICAgbWlkZGxlX25hbWU6ICcnLFxuICAgICAgICAgICAgZGVwYXJ0bWVudDogJydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVzZXJkYXRhID0ge1xuICAgICAgICAgICAgY2xlYW46IGNsZWFuLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgZ2V0QWxsVXNlcnM6IGdldEFsbFVzZXJzLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgICAgICAgdXBkYXRlU3VjY2Vzc2Z1bGw6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHVzZXJkYXRhO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHVzZXJkYXRhLmRhdGEsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tdID0gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBjb29raWUgPSBDb29raWVzLmdldCgpO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvb2tpZSwgZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgICAgICAgIGlmIChrIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtrXSA9IGNvb2tpZVtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEFsbFVzZXJzKCkge1xuICAgICAgICAgICAgdmFyIGNvb2tpZSA9IENvb2tpZXMuZ2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2RlcGFydG1lbnQvJyArIGNvb2tpZS5kZXBhcnRtZW50LmlkICsgJy91c2VyLycpLnRoZW4oXG4gICAgICAgICAgICAgICAgZ2V0QWxsVXNlcnNTdWNjZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QWxsVXNlcnNTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBjb29raWUgPSBDb29raWVzLmdldCgpO1xuXG4gICAgICAgICAgICB1c2VyZGF0YS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdXNlcmRhdGEudXBkYXRlU3VjY2Vzc2Z1bGwgPSBmYWxzZTtcblxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgICAgICBjb29raWVba10gPSBkYXRhW2tdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIENvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlREIoY29va2llKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURCKGNvb2tpZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9kZXBhcnRtZW50LycgKyBjb29raWUuZGVwYXJ0bWVudC5pZCArXG4gICAgICAgICAgICAgICAgICAgICcvdXNlci8nICsgY29va2llLnVzZXJuYW1lICsgJy8nLCB7XG4gICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogZGF0YS5maXJzdF9uYW1lLFxuICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogZGF0YS5sYXN0X25hbWUsXG4gICAgICAgICAgICAgICAgbWlkZGxlX25hbWU6IGRhdGEubWlkZGxlX25hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZW1haWxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih1cGRhdGVTdWNjZXNzKVxuICAgICAgICAgICAgLmNhdGNoKHVwZGF0ZUZhaWxlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB1c2VyZGF0YS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHVzZXJkYXRhLnVwZGF0ZVN1Y2Nlc3NmdWxsID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gT0staW5kaWNhdG9yIHdpbGwgYmUgc2hvd24gZm9yIDMgc2Vjb25kc1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdXNlcmRhdGEudXBkYXRlU3VjY2Vzc2Z1bGwgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDMwMDApO1xuXG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YSBmcm9tIHVwZGF0ZTogJXMnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7XG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhdHVzIGZyb20gdXBkYXRlOiAlcycsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZhaWxlZChlKSB7XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmxvZ2luJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZ21wSW5wdXQnLCBnbXBJbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBnbXBJbnB1dCAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuLy8gICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50KSB7XG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkZWxlbWVudC5hdHRyKCduYW1lJykpO1xuLy8gICAgICAgICAgICAgICAgJHNjb3BlLmhhc0Vycm9yID0gdGhpcy5maWVsZC4kdG91Y2hlZCAmJiB0aGlzLmZpZWxkLiRpbnZhbGlkO1xuLy9cbi8vICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaXNWYWxpZCA9IHNjb3BlLnVzZXJGb3JtLmVtYWlsLiR0b3VjaGVkO1xuLy8gICAgICAgICAgICAgICAgc2NvcGUudXNlckZvcm0uZW1haWwuJHRvdWNoZWQuJHdhdGNoKClcblxuICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW0sIHRBdHRycykge1xuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2F0dHJzOiAnICsgdEF0dHJzLmlkKTtcbi8vICAgICAgICAgICAgICAgIHRFbGVtLmZpbmQoJ2xhYmVsJykuYXR0cignZm9yJywgdEF0dHJzLmlkKTtcbi8vICAgICAgICAgICAgICAgIHRFbGVtLmZpbmQoJ2lucHV0JykuYXR0cignaWQnLCB0QXR0cnMuaWQpO1xuLy8gICAgICAgICAgICAgICAgdEVsZW0uZmluZCgnaW5wdXQnKS5hdHRyKCduYW1lJywgJ2VtYWlsJyk7XG4vLyAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgIHNjb3BlOiB7XG4vLyAgICAgICAgICAgICAgICB0eXBlOiAnQCcsXG4vLyAgICAgICAgICAgICAgICBtb2RlbDogJz1uZ01vZGVsJyxcbi8vICAgICAgICAgICAgICAgIGZpZWxkOiAnPScsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0AnXG4vLyAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvc3JjL2FwcC91c2VyL2dtcC1pbnB1dC5kaXJlY3RpdmUudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5yZXBvcnQnKVxuICAgICAgICAuY29udHJvbGxlcignUmVwb3J0Q29udHJvbGxlcicsIFJlcG9ydENvbnRyb2xsZXIpO1xuXG4gICAgUmVwb3J0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHN0YXRlJywgJ1VzZXJEYXRhJywgJ0RlcGFydG1lbnQnLCAnRW5naW5lJywgJ1Bhc3Nwb3J0JywgJ1VwbG9hZCddO1xuICAgIGZ1bmN0aW9uIFJlcG9ydENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIFVzZXJEYXRhLCBEZXBhcnRtZW50LCBFbmdpbmUsIFBhc3Nwb3J0LCBVcGxvYWQpIHtcblxuICAgICAgICAkc2NvcGUudXBsb2FkID0gdXBsb2FkO1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXMsXG4gICAgICAgICAgICBwYWdlcyA9IFtcbiAgICAgICAgICAgICAgICAncmVwb3J0L3RlYW0udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXBvcnQvcmVwb3J0X2luZm8udHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdtZWFzdXJlcnMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdscHUudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXBvcnQvZGF0ZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdlbmdpbmVzLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAnb3JkZXIudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXBvcnQvcGhvdG9zLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICd2YWx1ZXMudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ2RvY3MudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICd0aGVybS50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3ZpYnJvLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncmVzaXN0YW5jZS50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAnc2lnbmVycy50cGwuaHRtbCdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjb250cm9sX3R5cGVzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CS0JjQmicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogJ9CS0LjQt9GD0LDQu9GM0L3Ri9C5INC4INC40LfQvNC10YDQuNGC0LXQu9GM0L3Ri9C5INC60L7QvdGC0YDQvtC70YwnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQo9CaJyxcbiAgICAgICAgICAgICAgICAgICAgZnVsbF9uYW1lOiAn0KPQu9GM0YLRgNCw0LfQstGD0LrQvtCy0L7QuSDQutC+0L3RgtGA0L7Qu9GMJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn0KLQmicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogJ9Ci0LXQv9C70L7QstC+0Lkg0LrQvtC90YLRgNC+0LvRjCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9CS0JQnLFxuICAgICAgICAgICAgICAgICAgICBmdWxsX25hbWU6ICfQktC40LHRgNC+0LTQuNCw0LPQvdC+0YHRgtC40YfQtdGB0LrQuNC5INC60L7QvdGC0YDQvtC70YwnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfQrdCbJyxcbiAgICAgICAgICAgICAgICAgICAgZnVsbF9uYW1lOiAn0K3Qu9C10LrRgtGA0LjRh9C10YHQutC40Lkg0LrQvtC90YLRgNC+0LvRjCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbWVhc3VyZXJzID0ge1xuICAgICAgICAgICAgICAgIGFsbDogRGVwYXJ0bWVudC5tZWFzdXJlcnMoKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogW10sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiAnbmFtZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmdpbmUgPSB7XG4gICAgICAgICAgICAgICAgYWxsOiBbXSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnc2VyaWFsX251bWJlcic6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogJ25hbWUnXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgdm0uYWRkVG9Db2xsZWN0aW9uID0gYWRkVG9Db2xsZWN0aW9uO1xuICAgICAgICB2bS5hbGxFbXBsb3llZXMgPSBbXTtcbiAgICAgICAgdm0uY29udHJvbF90eXBlcyA9IGNvbnRyb2xfdHlwZXM7XG4gICAgICAgIHZtLmNyZWF0ZVBhc3Nwb3J0ID0gY3JlYXRlUGFzc3BvcnQ7XG4gICAgICAgIHZtLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdm0ud29ya0JlZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICB2bS53b3JrRW5kID0gdW5kZWZpbmVkO1xuICAgICAgICB2bS5scHVzID0ge307XG4gICAgICAgIHZtLm9yZ3MgPSB7fTtcbiAgICAgICAgdm0ucGFnZXMgPSBwYWdlcztcbiAgICAgICAgdm0ucHJvY0tleVByZXNzID0gcHJvY0tleVByZXNzO1xuICAgICAgICB2bS50Y2xhc3NlcyA9IHthbGw6IFtdLCBzZWxlY3RlZDogJyd9O1xuICAgICAgICB2bS5nZXRMUFVzID0gZ2V0TFBVcztcbiAgICAgICAgdm0ubWVhc3VyZXJzID0gbWVhc3VyZXJzO1xuICAgICAgICB2bS5yZXBvcnQgPSB7XG4gICAgICAgICAgICB0ZWFtOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtZWFzdXJlcnM6IG1lYXN1cmVycy5zZWxlY3RlZCxcbiAgICAgICAgICAgIGZpbGVzOiB7XG4gICAgICAgICAgICAgICAgJ21haW4nOiBbXSxcbiAgICAgICAgICAgICAgICAndGhlcm0xJzogW10sXG4gICAgICAgICAgICAgICAgJ3RoZXJtMic6IFtdLFxuICAgICAgICAgICAgICAgICdsaWNlbnNlcyc6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhlcm06IHt9LFxuICAgICAgICAgICAgdmlicm86IHt9LFxuICAgICAgICAgICAgb3JkZXI6IHt9LFxuICAgICAgICAgICAgcmVzaXN0YW5jZToge31cbiAgICAgICAgfTtcbiAgICAgICAgdm0uc2V0U2VsZWN0ZWQgPSBzZXRTZWxlY3RlZDtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0ucmVwb3J0LmluZm8gPSB7XG4gICAgICAgICAgICAgICAgbGljZW5zZTogJ9CU0L7Qs9C+0LLQvtGAIOKEliAgICAgICAgICDQvtGCICAgICAgICAgINC90LAg0LLRi9C/0L7Qu9C90LXQvdC40LUg0YDQsNCx0L7RgiDQv9C+INGN0LrRgdC/0LXRgNGC0LjQt9C1INC/0YDQvtC80YvRiNC70LXQvdC90L7QuSDQsdC10LfQvtC/0LDRgdC90L7RgdGC0LguJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50ZWFtID0ge307XG4gICAgICAgICAgICB2bS5yZXBvcnQuZG9jcyA9IFtdO1xuICAgICAgICAgICAgdm0ucmVwb3J0Lm9ial9kYXRhID0ge1xuICAgICAgICAgICAgICAgIGRldGFpbF9pbmZvOiBbXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZ2V0RW1wbG95ZWVzKCk7XG4gICAgICAgICAgICBnZXRFbmdpbmVzKCk7XG4gICAgICAgICAgICBnZXRPcmdzKCk7XG4gICAgICAgICAgICBnZXRUQ2xhc3NlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9Db2xsZWN0aW9uKGFyciwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIFRlc3QgZm9yIGFic2VuY2Ugb2YgYSBuZXcgdmFsdWUgaW4gYXJyYXkgXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmIGFyci5pbmRleE9mKHZhbHVlKSA9PT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGFzc3BvcnQoKSB7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb2NzICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQuZG9jcykpO1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnaW52ZXN0aWdhdGlvbkRhdGUgJyArIHZtLmludmVzdGlnYXRpb25EYXRlLnRvTG9jYWxlU3RyaW5nKCkpO1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVnaW4gJyArIHZtLndvcmtCZWdpbik7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgJyArIHZtLndvcmtFbmQudG9Mb2NhbGVTdHJpbmcoKSk7XG4vLyAgICAgICAgICAgIFBhc3Nwb3J0LmNyZWF0ZVBhc3Nwb3J0KHZtLndvcmtCZWdpbik7XG4gICAgICAgICAgICB2bS5yZXBvcnQudHlwZSA9ICAncmVwb3J0JztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZWFtOicsIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydCkpO1xuLy8gICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIGNvbnNvbGUuZGlyKCd2bS50Y2xhc3Nlcy5hbGw6ICcgKyBKU09OLnN0cmluZ2lmeSh2bS50Y2xhc3Nlcy5hbGwpKTtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50aGVybS50Y2xhc3MgPSB2bS50Y2xhc3Nlcy5hbGwuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IHZtLnRjbGFzc2VzLnNlbGVjdGVkO1xuICAgICAgICAgICAgfSlbMF0uaWQ7XG4vLyAgICAgICAgICAgIGNvbnNvbGUuZGlyKCdzZWxlY3RlZCBjbGFzczogJyArIEpTT04uc3RyaW5naWZ5KHZtLnJlcG9ydC50aGVybSkpO1xuICAgICAgICAgICAgUGFzc3BvcnQuY3JlYXRlUGFzc3BvcnQodm0ucmVwb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEVtcGxveWVlcygpIHtcbiAgICAgICAgICAgIFVzZXJEYXRhLmdldEFsbFVzZXJzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLmFsbEVtcGxveWVlcyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFbmdpbmVzKCkge1xuICAgICAgICAgICAgRW5naW5lLmdldEFsbEVuZ2luZXMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uZW5naW5lLmFsbCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRPcmdzKCkge1xuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0T3JncygpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2bS5vcmdzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldExQVXMob3JnTmFtZSkge1xuICAgICAgICAgICAgdmFyIG9yZ2FuID0gdm0ub3Jncy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PT0gb3JnTmFtZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQYXNzcG9ydC5nZXRMUFVzKG9yZ2FuWzBdLmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ubHB1cyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUQ2xhc3NlcygpIHtcbiAgICAgICAgICAgIFBhc3Nwb3J0LmdldFRDbGFzc2VzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnRjbGFzc2VzLmFsbCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwcm9jS2V5UHJlc3MoY2xpY2tFdmVudCwgYXJyKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgUmV0dXJuIChFbnRlcikga2V5IHByZXNzZWRcbiAgICAgICAgICAgIGlmIChjbGlja0V2ZW50LndoaWNoID09PSAxMykge1xuICAgICAgICAgICAgICAgIGNsaWNrRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBhZGRUb0NvbGxlY3Rpb24oYXJyLCBjbGlja0V2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY2xpY2tFdmVudC50YXJnZXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldFNlbGVjdGVkKHNlbGVjdGVkLCBpdGVtKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIGluZGV4ID0gc2VsZWN0ZWQuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZG5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZWxlbWVudC5maWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZC8nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZmlsZXVwbG9hZDogZmlsZX1cbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnJlcG9ydC5maWxlc1tmaWVsZG5hbWVdLnB1c2gocmVzcG9uc2UuZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLnJlcG9ydC5maWxlcyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucmVwb3J0JylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1JlcG9ydENvbnRhaW5lckNvbnRyb2xsZXInLCBSZXBvcnRDb250YWluZXJDb250cm9sbGVyKTtcblxuICAgIGZ1bmN0aW9uIFJlcG9ydENvbnRhaW5lckNvbnRyb2xsZXIoJHNjb3BlLCBVc2VyRGF0YSwgRGVwYXJ0bWVudCwgUGFzc3BvcnQsIFVwbG9hZCwgU2VydmVyRGF0YSkge1xuICAgICAgICAnbmdJbmplY3QnO1xuXG4gICAgICAgICRzY29wZS51cGxvYWQgPSB1cGxvYWQ7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcyxcbiAgICAgICAgICAgIHBhZ2VzID0gW1xuICAgICAgICAgICAgICAgICdyZXBvcnRfY29udGFpbmVyL2RldmljZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICdyZXBvcnRfY29udGFpbmVyL3JlcG9ydF9pbmZvLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAncmVwb3J0X2NvbnRhaW5lci9vcmRlci50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydF9jb250YWluZXIvdGVhbS50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydF9jb250YWluZXIvc2lnbmVycy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ3JlcG9ydF9jb250YWluZXIvc2NoZW1lcy50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAncmVwb3J0X2NvbnRhaW5lci9kZXZpY2VfbG9jYXRpb24udHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ21lYXN1cmVycy50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAncmVwb3J0L2RhdGVzLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdlbmdpbmVzLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICdyZXBvcnQvcGhvdG9zLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICd2YWx1ZXMudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ2RvY3MudHBsLmh0bWwnLFxuLy8gICAgICAgICAgICAgICAgJ3RoZXJtLnRwbC5odG1sJyxcbi8vICAgICAgICAgICAgICAgICd2aWJyby50cGwuaHRtbCcsXG4vLyAgICAgICAgICAgICAgICAncmVzaXN0YW5jZS50cGwuaHRtbCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbWVhc3VyZXJzID0ge1xuICAgICAgICAgICAgICAgIGFsbDogRGVwYXJ0bWVudC5tZWFzdXJlcnMoKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogW10sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiAnbmFtZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXZpY2VzID0ge1xuICAgICAgICAgICAgICAgIGFsbDogW10sXG4vLyAgICAgICAgICAgICAgICBzZWxlY3RlZDoge1xuLy8gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJycsXG4vLyAgICAgICAgICAgICAgICAgICAgJ3NlcmlhbF9udW1iZXInOiAwXG4vLyAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgICAgc29ydE9yZGVyOiAnbmFtZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXZpY2VfY29uZGl0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAn0YDQsNCx0L7RgtC+0YHQv9C+0YHQvtCx0L3QvtC1JyxcbiAgICAgICAgICAgICAgICAn0L3QtdGA0LDQsdC+0YLQvtGB0L/QvtGB0L7QsdC90L7QtScsXG4gICAgICAgICAgICAgICAgJ9C/0YDQtdC00LXQu9GM0L3QvtC1J1xuICAgICAgICAgICAgXTtcblxuXG4vLyAgICAgICAgdm0uYWRkVG9Db2xsZWN0aW9uID0gYWRkVG9Db2xsZWN0aW9uO1xuICAgICAgICB2bS5hbGxFbXBsb3llZXMgPSBbXTtcbi8vICAgICAgICB2bS5jb250cm9sX3R5cGVzID0gY29udHJvbF90eXBlcztcbiAgICAgICAgdm0uZGV2aWNlX2NvbmRpdGlvbnMgPSBkZXZpY2VfY29uZGl0aW9ucztcbiAgICAgICAgdm0uY3JlYXRlUGFzc3BvcnQgPSBjcmVhdGVQYXNzcG9ydDtcbiAgICAgICAgdm0uZGV2aWNlcyA9IGRldmljZXM7XG4vLyAgICAgICAgdm0ud29ya0JlZ2luID0gdW5kZWZpbmVkO1xuLy8gICAgICAgIHZtLndvcmtFbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZtLmxwdXMgPSB7fTtcbiAgICAgICAgdm0ub3JncyA9IHt9O1xuICAgICAgICB2bS5wYWdlcyA9IHBhZ2VzO1xuLy8gICAgICAgIHZtLnByb2NLZXlQcmVzcyA9IHByb2NLZXlQcmVzcztcbi8vICAgICAgICB2bS50Y2xhc3NlcyA9IHthbGw6IFtdLCBzZWxlY3RlZDogJyd9O1xuICAgICAgICB2bS5nZXRMUFVzID0gZ2V0TFBVcztcbi8vICAgICAgICB2bS5tZWFzdXJlcnMgPSBtZWFzdXJlcnM7XG4gICAgICAgIHZtLnJlcG9ydCA9IHtcbiAgICAgICAgICAgIHRlYW06IFtdLFxuICAgICAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAgICAgICAnbGVnZW5kJzogW10sXG4gICAgICAgICAgICAgICAgJ2NvbnJ0b2xfVklLJzogW10sXG4gICAgICAgICAgICAgICAgJ2NvbnJ0b2xfVUtfY29udGFpbmVyJzogW10sXG4gICAgICAgICAgICAgICAgJ2NvbnJ0b2xfVUtfY29ubmVjdGlvbnMnOiBbXSxcbiAgICAgICAgICAgICAgICAnY29ucnRvbF9tYWduaXQnOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICAgICAgJ2luZm9faW52ZXN0aWdhdGlvbic6ICfQrdC60YHQv9C10YDRgtC40LfQsCDQv9GA0L7QvNGL0YjQu9C10L3QvdC+0Lkg0LHQtdC30L7Qv9Cw0YHQvdC+0YHRgtC4INC/0YDQvtCy0L7QtNC40YLRgdGPINCy0L/QtdGA0LLRi9C1LiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcbtCd0J4sINCS0J4g4oCTIDEg0YDQsNC3INCyIDIg0LPQvtC00LAgKNC+0YLQstC10YLRgdGC0LLQtdC90L3Ri9C5INC30LAg0L7RgdGD0YnQtdGB0YLQstC70LXQvdC40LUgJyArIFxuICAgICAgICAgICAgICAgICAgICAn0L/RgNC+0LjQt9Cy0L7QtNGB0YLQstC10L3QvdC+0LPQviDQutC+0L3RgtGA0L7Qu9GPINC30LAg0Y3QutGB0L/Qu9GD0LDRgtCw0YbQuNC10Lkg0YHQvtGB0YPQtNCwKS4gJyArXG4gICAgICAgICAgICAgICAgICAgICdcXG7QndCeLCDQktCeIOKAkyAxINGA0LDQtyDQsiA0INCz0L7QtNCwICjRg9C/0L7Qu9C90L7QvNC+0YfQtdC90L3QsNGPINGB0L/QtdGG0LjQsNC70LjQt9C40YDQvtCy0LDQvdC90LDRjyDQvtGA0LPQsNC90LjQt9Cw0YbQuNGPLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ9C+0YLQstC10YLRgdGC0LLQtdC90L3Ri9C5INC30LAg0L7RgdGD0YnQtdGB0YLQstC70LXQvdC40LUg0L/RgNC+0LjQt9Cy0L7QtNGB0YLQstC10L3QvdC+0LPQviDQutC+0L3RgtGA0L7Qu9GPINC30LAg0Y3QutGB0L/Qu9GD0LDRgtCw0YbQuNC10Lkg0YHQvtGB0YPQtNCwKS4gJyArXG4gICAgICAgICAgICAgICAgICAgICdcXG7Qk9CYIOKAkyAxINGA0LDQtyDQsiA4INC70LXRgiAo0YPQv9C+0LvQvdC+0LzQvtGH0LXQvdC90LDRjyDRgdC/0LXRhtC40LDQu9C40LfQuNGA0L7QstCw0L3QvdCw0Y8g0L7RgNCz0LDQvdC40LfQsNGG0LjRjywgJyArIFxuICAgICAgICAgICAgICAgICAgICAn0L7RgtCy0LXRgtGB0YLQstC10L3QvdGL0Lkg0LfQsCDQvtGB0YPRidC10YHRgtCy0LvQtdC90LjQtSDQv9GA0L7QuNC30LLQvtC00YHRgtCy0LXQvdC90L7Qs9C+INC60L7QvdGC0YDQvtC70Y8g0LfQsCDRjdC60YHQv9C70YPQsNGC0LDRhtC40LXQuSDRgdC+0YHRg9C00LApJyxcbiAgICAgICAgICAgICAgICAnaW5mb19yZXBhaXInOiAn0JIg0L/RgNC10LTRgdGC0LDQstC70LXQvdC90L7QuSDRgtC10YXQvdC40YfQtdGB0LrQvtC5INC00L7QutGD0LzQtdC90YLQsNGG0LjQuCDQvdC1INC+0YLQvNC10YfQtdC90L4nLFxuICAgICAgICAgICAgICAgICdkYW5nZXJfcGxhY2VzJzogJ9Cc0LXRgdGC0LAg0LrQvtC90YbQtdC90YLRgNCw0YbQuNC5INC90LDQv9GA0Y/QttC10L3QuNC5IOKAkyDQv9GA0L7QtNC+0LvRjNC90YvQtSDQuCDQutC+0LvRjNGG0LXQstGL0LUg0YHQstCw0YDQvdGL0LUg0YjQstGLLCAnICsgXG4gICAgICAgICAgICAgICAgICAgICfQvNC10YHRgtCwINCy0LLQsNGA0LrQuCDRiNGC0YPRhtC10YDQvtCyOyDQvNC10YHRgtCwINC90LDQuNCx0L7Qu9C10LUg0LLQtdGA0L7Rj9GC0L3QvtCz0L4g0LrQvtGA0YDQvtC30LjQvtC90L3QvtCz0L4g0LjQt9C90L7RgdCwIOKAkyAnICsgXG4gICAgICAgICAgICAgICAgICAgICfQstC90YPRgtGA0LXQvdC90Y/RjyDQv9C+0LLQtdGA0YXQvdC+0YHRgtGMINC90LjQttC90LXQs9C+INC00L3QuNGJ0LAnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjaGVtZXM6IHtcbiAgICAgICAgICAgICAgICAnVklLJzogJ9Ch0YXQtdC80LAg0L/RgNC+0LLQtdC00LXQvdC40Y8g0LLQuNC30YPQsNC70YzQvdC+LdC40LfQvNC10YDQuNGC0LXQu9GM0L3QvtCz0L4g0LrQvtC90YLRgNC+0LvRjyDRgdC+0YHRg9C00LAnLFxuICAgICAgICAgICAgICAgICdVS19jb250YWluZXInOiAn0KHRhdC10LzQsCDQv9GA0L7QstC10LTQtdC90LjRjyDRg9C70YzRgtGA0LDQt9Cy0YPQutC+0LLQvtC5INGC0L7Qu9GJ0LjQvdC+0LzQtdGC0YDQuNC4INC4INGC0LLQtdGA0LTQvtC80LXRgtGA0LjQuCDRgdC+0YHRg9C00LAnLFxuICAgICAgICAgICAgICAgICdVS19jb25uZWN0aW9ucyc6ICfQodGF0LXQvNCwINC/0YDQvtCy0LXQtNC10L3QuNGPINGD0LvRjNGC0YDQsNC30LLRg9C60L7QstC+0LPQviDQutC+0L3RgtGA0L7Qu9GPINGB0LLQsNGA0L3Ri9GFINGB0L7QtdC00LjQvdC10L3QuNC5INGB0L7RgdGD0LTQsCcsXG4gICAgICAgICAgICAgICAgJ21hZ25pdCc6ICfQodGF0LXQvNCwINC/0YDQvtCy0LXQtNC10L3QuNGPINC80LDQs9C90LjRgtC+0L/QvtGA0L7RiNC60L7QstC+0LPQviDQutC+0L3RgtGA0L7Qu9GPINGB0L7RgdGD0LTQsCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuLy8gICAgICAgICAgICB0ZWFtOiB1bmRlZmluZWQsXG4vLyAgICAgICAgICAgIG1lYXN1cmVyczogbWVhc3VyZXJzLnNlbGVjdGVkLFxuLy8gICAgICAgICAgICBmaWxlczoge1xuLy8gICAgICAgICAgICAgICAgJ21haW4nOiBbXSxcbi8vICAgICAgICAgICAgICAgICd0aGVybTEnOiBbXSxcbi8vICAgICAgICAgICAgICAgICd0aGVybTInOiBbXSxcbi8vICAgICAgICAgICAgICAgICdsaWNlbnNlcyc6IFtdXG4vLyAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgIHRoZXJtOiB7fSxcbi8vICAgICAgICAgICAgdmlicm86IHt9LFxuLy8gICAgICAgICAgICBvcmRlcjoge30sXG4vLyAgICAgICAgICAgIHJlc2lzdGFuY2U6IHt9XG4vLyAgICAgICAgfTtcbiAgICAgICAgdm0uc2V0U2VsZWN0ZWQgPSBzZXRTZWxlY3RlZDtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgZ2V0Q29udGFpbmVycygpO1xuICAgICAgICAgICAgZ2V0T3JncygpO1xuICAgICAgICAgICAgZ2V0RW1wbG95ZWVzKCk7XG4vLyAgICAgICAgICAgIHZtLnJlcG9ydC5pbmZvID0ge1xuLy8gICAgICAgICAgICAgICAgbGljZW5zZTogJ9CU0L7Qs9C+0LLQvtGAIOKEliAgICAgICAgICDQvtGCICAgICAgICAgINC90LAg0LLRi9C/0L7Qu9C90LXQvdC40LUg0YDQsNCx0L7RgiDQv9C+INGN0LrRgdC/0LXRgNGC0LjQt9C1INC/0YDQvtC80YvRiNC70LXQvdC90L7QuSDQsdC10LfQvtC/0LDRgdC90L7RgdGC0LguJ1xuLy8gICAgICAgICAgICB9O1xuLy8gICAgICAgICAgICB2bS5yZXBvcnQudGVhbSA9IHt9O1xuLy8gICAgICAgICAgICB2bS5yZXBvcnQuZG9jcyA9IFtdO1xuLy8gICAgICAgICAgICB2bS5yZXBvcnQub2JqX2RhdGEgPSB7XG4vLyAgICAgICAgICAgICAgICBkZXRhaWxfaW5mbzogW11cbi8vICAgICAgICAgICAgfTtcbi8vXG4vLyAgICAgICAgICAgIGdldEVuZ2luZXMoKTtcbi8vICAgICAgICAgICAgZ2V0VENsYXNzZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvQ29sbGVjdGlvbihhcnIsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAvLyBUZXN0IGZvciBhYnNlbmNlIG9mIGEgbmV3IHZhbHVlIGluIGFycmF5IFxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnJyAmJiBhcnIuaW5kZXhPZih2YWx1ZSkgPT09IC0xICkge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBhc3Nwb3J0KCkge1xuLy8vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb2NzICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQuZG9jcykpO1xuLy8vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnZlc3RpZ2F0aW9uRGF0ZSAnICsgdm0uaW52ZXN0aWdhdGlvbkRhdGUudG9Mb2NhbGVTdHJpbmcoKSk7XG4vLy8vICAgICAgICAgICAgY29uc29sZS5sb2coJ2JlZ2luICcgKyB2bS53b3JrQmVnaW4pO1xuLy8vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgJyArIHZtLndvcmtFbmQudG9Mb2NhbGVTdHJpbmcoKSk7XG4vLy8vICAgICAgICAgICAgUGFzc3BvcnQuY3JlYXRlUGFzc3BvcnQodm0ud29ya0JlZ2luKTtcbiAgICAgICAgICAgIHZtLnJlcG9ydC50eXBlID0gJ3JlcG9ydC1jb250YWluZXInO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcG9ydDonLCBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQpKTtcbi8vLy8gICAgICAgICAgICByZXR1cm47XG4vLy8vICAgICAgICAgICAgY29uc29sZS5kaXIoJ3ZtLnRjbGFzc2VzLmFsbDogJyArIEpTT04uc3RyaW5naWZ5KHZtLnRjbGFzc2VzLmFsbCkpO1xuLy8gICAgICAgICAgICB2bS5yZXBvcnQudGhlcm0udGNsYXNzID0gdm0udGNsYXNzZXMuYWxsLmZpbHRlcihmdW5jdGlvbihlbCkge1xuLy8gICAgICAgICAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IHZtLnRjbGFzc2VzLnNlbGVjdGVkO1xuLy8gICAgICAgICAgICB9KVswXS5pZDtcbi8vLy8gICAgICAgICAgICBjb25zb2xlLmRpcignc2VsZWN0ZWQgY2xhc3M6ICcgKyBKU09OLnN0cmluZ2lmeSh2bS5yZXBvcnQudGhlcm0pKTtcbi8vICAgICAgICAgICAgUGFzc3BvcnQuY3JlYXRlUGFzc3BvcnQodm0ucmVwb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEVtcGxveWVlcygpIHtcbiAgICAgICAgICAgIFVzZXJEYXRhLmdldEFsbFVzZXJzKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLmFsbEVtcGxveWVlcyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb250YWluZXJzKCkge1xuICAgICAgICAgICAgU2VydmVyRGF0YS5xdWVyeSh7Y2F0ZWdvcnk6ICdjb250YWluZXInfSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZtLmRldmljZXMuYWxsID0gZGF0YTtcbi8vICAgICAgICAgICAgICAgIHZtLmRldmljZXMuYWxsID0gZGF0YS5tYXAoZnVuY3Rpb24oZWwpIHtcbi8vICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4vLyAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3JncygpIHtcbiAgICAgICAgICAgIFBhc3Nwb3J0LmdldE9yZ3MoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ub3JncyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMUFVzKG9yZ05hbWUpIHtcbiAgICAgICAgICAgIHZhciBvcmdhbiA9IHZtLm9yZ3MuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IG9yZ05hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgUGFzc3BvcnQuZ2V0TFBVcyhvcmdhblswXS5pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLmxwdXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4vL1xuLy8gICAgICAgIGZ1bmN0aW9uIGdldFRDbGFzc2VzKCkge1xuLy8gICAgICAgICAgICBQYXNzcG9ydC5nZXRUQ2xhc3NlcygpXG4vLyAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgdm0udGNsYXNzZXMuYWxsID0gZGF0YTtcbi8vICAgICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgIH1cbi8vXG4vLyAgICAgICAgZnVuY3Rpb24gcHJvY0tleVByZXNzKGNsaWNrRXZlbnQsIGFycikge1xuLy8gICAgICAgICAgICAvLyBDaGVjayBmb3IgUmV0dXJuIChFbnRlcikga2V5IHByZXNzZWRcbi8vICAgICAgICAgICAgaWYgKGNsaWNrRXZlbnQud2hpY2ggPT09IDEzKSB7XG4vLyAgICAgICAgICAgICAgICBjbGlja0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgICAgICAgICBhZGRUb0NvbGxlY3Rpb24oYXJyLCBjbGlja0V2ZW50LnRhcmdldC52YWx1ZSk7XG4vLyAgICAgICAgICAgICAgICBjbGlja0V2ZW50LnRhcmdldC52YWx1ZSA9ICcnO1xuLy8gICAgICAgICAgICB9XG4vLyAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldFNlbGVjdGVkKHNlbGVjdGVkLCBpdGVtKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIGluZGV4ID0gc2VsZWN0ZWQuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZG5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZWxlbWVudC5maWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZC8nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZmlsZXVwbG9hZDogZmlsZX1cbiAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnJlcG9ydC5maWxlc1tmaWVsZG5hbWVdLnB1c2gocmVzcG9uc2UuZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLnJlcG9ydC5maWxlcyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
