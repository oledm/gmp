<div class="md-padding" ng-cloak layout="row" layout-align="center center">
  <form name="userForm" flex-xs flex-gt-xs="40" >
    <md-card class="md-padding" layout-xs="column" layout="column">
    <md-card-title>
      <md-card-title-text>
        <span class="md-headline" layout="row" layout-align="center center">Регистрация нового пользователя</span>
      </md-card-title-text>
    </md-card-title>
    <md-card-actions layout="column" layout-align="center center">

    <md-input-container class="md-block" flex-gt-sm>
      <label>Имя пользователя</label>
      <input md-maxlength="50" required name="name" ng-model="vm.name" />
      <div ng-messages="userForm.name.$error">
        <div ng-message="required">Обязательное поле</div>
        <div ng-message="md-maxlength">Длина поля не более 30 символов</div>
      </div>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>E-mail</label>
      <input type="email" md-maxlength="50" required name="email" ng-model="vm.email" />
      <div ng-messages="userForm.email.$error">
        <div ng-message="required">Обязательное поле</div>
        <div ng-message="email">Некорректно указан email</div>
        <div ng-message="md-maxlength">Длина поля не более 30 символов</div>
      </div>
    </md-input-container>

    <md-input-container class="md-block" flex-gt-sm>
      <label>Отдел</label>
        <md-select required name="department" placeholder="Отдел" md-on-open="vm.loadDeps()" ng-model="vm.department">
            <md-option ng-repeat="d in vm.allDeps | orderBy: 'name'">{{ d.name }}</md-option>
        </md-select>
      <div ng-messages="userForm.department.$error">
        <div ng-message="required">Обязательное поле</div>
        <div ng-message="md-maxlength">Длина поля не более 30 символов</div>
      </div>
    </md-input-container>

      <md-button class="md-raised" ng-disabled="userForm.$invalid" ng-click="vm.send();"> Отправить </md-button>
    </md-card-actions>
  </md-card>
  </form>
</div>
