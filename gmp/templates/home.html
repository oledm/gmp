{% extends "base.html" %}
{% load staticfiles i18n %}

{% block css %}
<base href="/">
<link rel="stylesheet" href="{% static 'Ionicons/css/ionicons.min.css' %}">
<link rel="stylesheet" href="{% static 'src/assets/css/app.css' %}">
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
{% endblock %}

{% block angular %}
    <script src="{% static 'jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static 'angular/angular.js' %}"></script>
    <!-- 
        <script src="{% static 'angular-i18n/ru-ru.js' %}"></script>
     -->
    <script src="{% static 'angular-aria/angular-aria.js' %}"></script>
    <script src="{% static 'angular-animate/angular-animate.js' %}"></script>
    <script src="{% static 'angular-messages/angular-messages.js' %}"></script>
    <script src="{% static 'angular-resource/angular-resource.js' %}"></script>
    <script src="{% static 'angular-cookies/angular-cookies.js' %}"></script>
    <script src="{% static 'angular-ui-router/release/angular-ui-router.min.js' %}"></script>
    <script src="{% static 'angular-bootstrap/ui-bootstrap.min.js' %}"></script>
    <script src="{% static 'angular-bootstrap/ui-bootstrap-tpls.min.js' %}"></script>
    <!-- 
        <script src="{% static 'angular-material/angular-material.min.js' %}"></script>
        <script src="{% static 'angular-material-data-table/dist/md-data-table.min.js' %}"></script>
     -->
    <script src="{% static 'ng-file-upload/ng-file-upload.js' %}"></script>
    <script src="{% static 'filesaver/FileSaver.js' %}"></script>
    <!-- 
        This app
     -->
    <script src="{% static 'src/app/user/app.datepicker.module.js' %}"></script>
    <script src="{% static 'src/app/user/app.datepicker.js' %}"></script>
    <script src="{% static 'src/app/user/app.userdata.service.module.js' %}"></script>
    <script src="{% static 'src/app/user/app.userdata.service.js' %}"></script>
    <script src="{% static 'src/app/user/app.userdata.controller.module.js' %}"></script>
    <script src="{% static 'src/app/user/app.userdata.controller.js' %}"></script>
    <script src="{% static 'src/app/engine/app.engine.service.module.js' %}"></script>
    <script src="{% static 'src/app/engine/app.engine.service.js' %}"></script>
    <script src="{% static 'src/app/filestorage/app.upload.module.js' %}"></script>
    <script src="{% static 'src/app/filestorage/app.upload.js' %}"></script>
    <script src="{% static 'src/app/filestorage/app.upload.service.module.js' %}"></script>
    <script src="{% static 'src/app/filestorage/app.upload.service.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.service.module.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.service.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.module.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.checkmark.directive.js' %}"></script>
    <script src="{% static 'src/app/report/app.passport.validFile.directive.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.authentication.service.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.authentication.service.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.department.service.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.department.service.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.cookies.service.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.cookies.service.js' %}"></script>
    <!-- 
        <script src="{% static 'src/app/authentication/app.sidenav.module.js' %}"></script>
        <script src="{% static 'src/app/authentication/app.sidenav.js' %}"></script>
     -->
    <script src="{% static 'src/app/authentication/app.toolbar.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.toolbar.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.login.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.login.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.register.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.register.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.routes.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.routes.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.main.module.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.main.js' %}"></script>
    <script src="{% static 'src/app/authentication/app.js' %}"></script>
    <script src="{% static 'src/app/user/gmp-input.directive.js' %}"></script>
{% endblock %}

{% block javascript  %}
{% if debug %}
    <script src="//localhost:35729/livereload.js"></script>
{% endif %}
    <script src="{% static 'bootstrap-sass/assets/javascripts/bootstrap.min.js' %}"></script>
{% endblock %}

{% block content %}
 
{% verbatim %}


 <div ng-controller="ToolbarController as vm">
     <div ng-if="main.isAuthenticated()">


        <nav class="navbar navbar-default">
          <div class="container-fluid">
            <!-- 
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="#"><i class="logo icon ion-earth"></i></a>
                </div>
             -->

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
               <ul class="nav navbar-nav" ng-repeat="entry in main.menu">
                   <li>
                       <a ui-sref="{{entry.ref}}" ui-sref-active="active" aria-label="{{entry.link}}">
                           <!-- 
                               <i class="icon ion-{{entry.icon}}"></i>
                            -->
                           {{entry.name}}
                        </a>
                   </li>
               </ul>

              <ul class="nav navbar-nav navbar-right" ng-controller="UserDataController as uc">


                  <div class="navbar-text">{{uc.userdata.data.last_name}} {{uc.userdata.data.first_name}}<br/><small>{{uc.userdata.data.department.name}}</small></div>
                <li><a href="#" ng-click="vm.logout()" ng-show="main.isAuthenticated()" aria-label="Выход">
                    <!-- 
                        <i class="icon ion-android-exit"></i>
                     -->
                     Выход
                    </a>
                </li>
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>


     </div>
     
     <div class="tabbable" ng-hide="main.isAuthenticated()" ng-cloak>
        <ul class="nav nav-tabs">
            <li data-toggle="tab" ui-sref-active="active" class="active item" role="presentation"><a ui-sref="login">Вход</a></li>
            <li data-toggle="tab" ui-sref-active="active" class="item" role="presentation"><a ui-sref="register">Регистрация</a></li>
        </ul>
    </div>


      <!-- 
          Main workspace content
       -->
    <div class="container" ng-cloak ui-view></div>

</div>
{% endverbatim %}
{% endblock %}
